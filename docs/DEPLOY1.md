

–¶–µ–π —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä—é—î –ø–æ–≤–Ω—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É –≤ Azure, –≤–∫–ª—é—á–∞—é—á–∏:

## üèóÔ∏è **–°—Ç–≤–æ—Ä–µ–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏:**

**–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **Resource Group** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
- **App Service Plan** - –æ–±—á–∏—Å–ª—é–≤–∞–ª—å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ (Linux)
- **Web App** - —Å–∞–º Django –¥–æ–¥–∞—Ç–æ–∫ –∑ Python runtime

**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:**
- **PostgreSQL Flexible Server** - –∫–µ—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Database** - –æ–∫—Ä–µ–º–∞ –±–∞–∑–∞ –¥–ª—è Django
- **Firewall rules** - –¥–æ—Å—Ç—É–ø –¥–ª—è Azure —Å–µ—Ä–≤—ñ—Å—ñ–≤

**–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –±–µ–∑–ø–µ–∫–∞:**
- **Storage Account** - –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –º–µ–¥—ñ–∞
- **Key Vault** - –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
- **Managed Identity** - –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤

**–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:**
- **Application Insights** - –¥–ª—è –ª–æ–≥—ñ–≤ —Ç–∞ –º–µ—Ç—Ä–∏–∫

## üîß **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è Django:**

**–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:**
- `DJANGO_SETTINGS_MODULE` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
- `SECRET_KEY` - –∑ Key Vault
- `DATABASE_URL` - –≥–æ—Ç–æ–≤–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL
- `AZURE_STORAGE_*` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- `APPINSIGHTS_*` - –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

**–§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:**
- `requirements.txt` - –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏
- `startup.sh` - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É –∑ –º—ñ–≥—Ä–∞—Ü—ñ—è–º–∏
- `.env.example` - –ø—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- `web.config` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–ª—è App Service

## üöÄ **–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**

1. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ** –≤ –ø–æ—á–∞—Ç–∫—É —Å–∫—Ä–∏–ø—Ç–∞
2. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç:** `chmod +x script.sh && ./script.sh`
3. **–î–æ–¥–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–∏** –¥–æ –≤–∞—à–æ–≥–æ Django –ø—Ä–æ–µ–∫—Ç—É
4. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ settings.py** –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Azure —Ä–µ—Å—É—Ä—Å—ñ–≤
5. **–î–µ–ø–ª–æ–π—Ç–µ –∫–æ–¥** —á–µ—Ä–µ–∑ GitHub Actions –∞–±–æ Azure DevOps

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î –±–µ–∑–ø–µ—á–Ω—ñ –ø–∞—Ä–æ–ª—ñ, –Ω–∞–ª–∞—à—Ç–æ–≤—É—î HTTPS, —Å—Ç–≤–æ—Ä—é—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –¥–ª—è —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é —É `infrastructure-summary.txt`.


---------------------------------------------------------------------------------------------------------------


```bash
#!/bin/bash

# =============================================================================
# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ Azure –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É
# =============================================================================

set -e  # –ó—É–ø–∏–Ω–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ

# –ö–æ–ª—å–æ—Ä–∏ –¥–ª—è –≤–∏–≤–æ–¥—É
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
log() {
    echo -e "${GREEN}[$(date +'%Y-%m-%d %H:%M:%S')]${NC} $1"
}

error() {
    echo -e "${RED}[ERROR]${NC} $1"
    exit 1
}

warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

# =============================================================================
# –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø - –ù–ê–õ–ê–®–¢–£–ô–¢–ï –¶–Ü –ó–ú–Ü–ù–ù–Ü
# =============================================================================

# –û—Å–Ω–æ–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
PROJECT_NAME="django-app"
ENVIRONMENT="production"  # production, staging, development
LOCATION="West Europe"
TIMESTAMP=$(date +%s)

# –Ü–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤
RESOURCE_GROUP_NAME="${PROJECT_NAME}-${ENVIRONMENT}-rg"
APP_SERVICE_PLAN_NAME="${PROJECT_NAME}-${ENVIRONMENT}-plan"
WEB_APP_NAME="${PROJECT_NAME}-${ENVIRONMENT}-${TIMESTAMP}"
DATABASE_SERVER_NAME="${PROJECT_NAME}-${ENVIRONMENT}-db-${TIMESTAMP}"
DATABASE_NAME="${PROJECT_NAME}_db"
STORAGE_ACCOUNT_NAME="${PROJECT_NAME}${ENVIRONMENT}storage${TIMESTAMP}"
KEY_VAULT_NAME="${PROJECT_NAME}-${ENVIRONMENT}-kv-${TIMESTAMP}"
APP_INSIGHTS_NAME="${PROJECT_NAME}-${ENVIRONMENT}-insights"

# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è App Service
APP_SERVICE_SKU="B1"  # F1 (Free), B1 (Basic), S1 (Standard), P1V2 (Premium)
PYTHON_VERSION="3.11"

# –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
DB_ADMIN_USER="djangoadmin"
DB_ADMIN_PASSWORD="$(openssl rand -base64 32 | tr -d '=/+' | cut -c1-16)Aa1!"
DB_SKU="GP_Gen5_1"  # General Purpose, 1 vCore

# –¢–µ–≥–∏ –¥–ª—è —Ä–µ—Å—É—Ä—Å—ñ–≤
TAGS="Environment=${ENVIRONMENT} Project=${PROJECT_NAME} CreatedBy=AzureCLI"

log "–ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É..."
log "–ü—Ä–æ–µ–∫—Ç: ${PROJECT_NAME}"
log "–°–µ—Ä–µ–¥–æ–≤–∏—â–µ: ${ENVIRONMENT}"
log "–†–µ–≥—ñ–æ–Ω: ${LOCATION}"

# =============================================================================
# –ü–ï–†–ï–í–Ü–†–ö–ê –ó–ê–õ–ï–ñ–ù–û–°–¢–ï–ô
# =============================================================================

log "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π..."

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Azure CLI
if ! command -v az &> /dev/null; then
    error "Azure CLI –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –π–æ–≥–æ –∑ https://docs.microsoft.com/en-us/cli/azure/install-azure-cli"
fi

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
if ! az account show &> /dev/null; then
    error "–í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –≤ Azure CLI. –í–∏–∫–æ–Ω–∞–π—Ç–µ 'az login'"
fi

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ openssl –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∞—Ä–æ–ª—ñ–≤
if ! command -v openssl &> /dev/null; then
    error "OpenSSL –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
fi

log "‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ"

# =============================================================================
# –°–¢–í–û–†–ï–ù–ù–Ø –†–ï–°–£–†–°–Ü–í
# =============================================================================

# 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: ${RESOURCE_GROUP_NAME}"
az group create \
    --name "$RESOURCE_GROUP_NAME" \
    --location "$LOCATION" \
    --tags $TAGS

# 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –º–µ–¥—ñ–∞
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: ${STORAGE_ACCOUNT_NAME}"
az storage account create \
    --name "$STORAGE_ACCOUNT_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --location "$LOCATION" \
    --sku Standard_LRS \
    --kind StorageV2 \
    --access-tier Hot \
    --tags $TAGS

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –º–µ–¥—ñ–∞
STORAGE_KEY=$(az storage account keys list \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --account-name "$STORAGE_ACCOUNT_NAME" \
    --query '[0].value' \
    --output tsv)

az storage container create \
    --name "static" \
    --account-name "$STORAGE_ACCOUNT_NAME" \
    --account-key "$STORAGE_KEY" \
    --public-access blob

az storage container create \
    --name "media" \
    --account-name "$STORAGE_ACCOUNT_NAME" \
    --account-key "$STORAGE_KEY" \
    --public-access blob

# 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL Database
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL —Å–µ—Ä–≤–µ—Ä–∞: ${DATABASE_SERVER_NAME}"
az postgres flexible-server create \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --name "$DATABASE_SERVER_NAME" \
    --location "$LOCATION" \
    --admin-user "$DB_ADMIN_USER" \
    --admin-password "$DB_ADMIN_PASSWORD" \
    --sku-name "$DB_SKU" \
    --storage-size 32 \
    --version 14 \
    --public-access 0.0.0.0 \
    --tags $TAGS

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö: ${DATABASE_NAME}"
az postgres flexible-server db create \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --server-name "$DATABASE_SERVER_NAME" \
    --database-name "$DATABASE_NAME"

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è firewall –ø—Ä–∞–≤–∏–ª
log "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è firewall –ø—Ä–∞–≤–∏–ª –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö"
az postgres flexible-server firewall-rule create \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --name "$DATABASE_SERVER_NAME" \
    --rule-name "AllowAzureServices" \
    --start-ip-address 0.0.0.0 \
    --end-ip-address 0.0.0.0

# 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Key Vault –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Key Vault: ${KEY_VAULT_NAME}"
az keyvault create \
    --name "$KEY_VAULT_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --location "$LOCATION" \
    --tags $TAGS

# –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –¥–æ Key Vault
log "–î–æ–¥–∞–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –¥–æ Key Vault"
DJANGO_SECRET_KEY=$(openssl rand -base64 50 | tr -d '=/+')

az keyvault secret set \
    --vault-name "$KEY_VAULT_NAME" \
    --name "django-secret-key" \
    --value "$DJANGO_SECRET_KEY"

az keyvault secret set \
    --vault-name "$KEY_VAULT_NAME" \
    --name "database-password" \
    --value "$DB_ADMIN_PASSWORD"

az keyvault secret set \
    --vault-name "$KEY_VAULT_NAME" \
    --name "storage-account-key" \
    --value "$STORAGE_KEY"

# 5. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Application Insights
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Application Insights: ${APP_INSIGHTS_NAME}"
az monitor app-insights component create \
    --app "$APP_INSIGHTS_NAME" \
    --location "$LOCATION" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --tags $TAGS

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è Instrumentation Key
INSTRUMENTATION_KEY=$(az monitor app-insights component show \
    --app "$APP_INSIGHTS_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --query "instrumentationKey" \
    --output tsv)

# 6. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan: ${APP_SERVICE_PLAN_NAME}"
az appservice plan create \
    --name "$APP_SERVICE_PLAN_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --location "$LOCATION" \
    --sku "$APP_SERVICE_SKU" \
    --is-linux \
    --tags $TAGS

# 7. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App
log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App: ${WEB_APP_NAME}"
az webapp create \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --plan "$APP_SERVICE_PLAN_NAME" \
    --runtime "PYTHON:${PYTHON_VERSION}" \
    --tags $TAGS

# 8. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è Django
log "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞"
DATABASE_URL="postgresql://${DB_ADMIN_USER}:${DB_ADMIN_PASSWORD}@${DATABASE_SERVER_NAME}.postgres.database.azure.com:5432/${DATABASE_NAME}?sslmode=require"

az webapp config appsettings set \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --settings \
        DJANGO_SETTINGS_MODULE="config.settings.production" \
        SECRET_KEY="@Microsoft.KeyVault(VaultName=${KEY_VAULT_NAME};SecretName=django-secret-key)" \
        DATABASE_URL="$DATABASE_URL" \
        AZURE_STORAGE_ACCOUNT_NAME="$STORAGE_ACCOUNT_NAME" \
        AZURE_STORAGE_ACCOUNT_KEY="@Microsoft.KeyVault(VaultName=${KEY_VAULT_NAME};SecretName=storage-account-key)" \
        AZURE_STORAGE_CONTAINER_STATIC="static" \
        AZURE_STORAGE_CONTAINER_MEDIA="media" \
        APPINSIGHTS_INSTRUMENTATIONKEY="$INSTRUMENTATION_KEY" \
        APPLICATIONINSIGHTS_CONNECTION_STRING="InstrumentationKey=${INSTRUMENTATION_KEY}" \
        DEBUG="False" \
        ALLOWED_HOSTS="${WEB_APP_NAME}.azurewebsites.net" \
        DJANGO_LOG_LEVEL="INFO" \
        PYTHONPATH="/home/site/wwwroot"

# 9. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è App Service –¥–ª—è Django
log "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è App Service –¥–ª—è Django"

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è startup –∫–æ–º–∞–Ω–¥–∏
az webapp config set \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --startup-file "gunicorn --bind=0.0.0.0 --timeout 600 config.wsgi"

# –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ª–æ–≥—ñ–≤
az webapp log config \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --application-logging filesystem \
    --detailed-error-messages true \
    --failed-request-tracing true \
    --web-server-logging filesystem

# 10. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è managed identity –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Key Vault
log "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Managed Identity"
az webapp identity assign \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME"

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è Principal ID
PRINCIPAL_ID=$(az webapp identity show \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --query "principalId" \
    --output tsv)

# –ù–∞–¥–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ Key Vault
az keyvault set-policy \
    --name "$KEY_VAULT_NAME" \
    --object-id "$PRINCIPAL_ID" \
    --secret-permissions get list

# 11. –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è HTTPS
log "–£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è HTTPS"
az webapp update \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --https-only true

# 12. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è custom domain (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
# –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ —è–∫—â–æ –º–∞—î—Ç–µ –∫–∞—Å—Ç–æ–º–Ω–∏–π –¥–æ–º–µ–Ω
# CUSTOM_DOMAIN="yourdomain.com"
# az webapp config hostname add \
#     --webapp-name "$WEB_APP_NAME" \
#     --resource-group "$RESOURCE_GROUP_NAME" \
#     --hostname "$CUSTOM_DOMAIN"

# =============================================================================
# –°–¢–í–û–†–ï–ù–ù–Ø –§–ê–ô–õ–Ü–í –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–á
# =============================================================================

log "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è requirements.txt
cat > requirements.txt << 'EOF'
Django>=4.2,<5.0
psycopg2-binary>=2.9.0
gunicorn>=20.1.0
django-storages[azure]>=1.13.0
python-decouple>=3.6
applicationinsights>=0.11.10
opencensus-ext-azure>=1.1.0
opencensus-ext-django>=0.8.0
whitenoise>=6.0.0
Pillow>=9.0.0
celery>=5.2.0
redis>=4.0.0
EOF

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è .env.example
cat > .env.example << EOF
# Django Settings
SECRET_KEY=your-secret-key-here
DEBUG=False
ALLOWED_HOSTS=${WEB_APP_NAME}.azurewebsites.net

# Database
DATABASE_URL=postgresql://user:password@host:port/database

# Azure Storage
AZURE_STORAGE_ACCOUNT_NAME=${STORAGE_ACCOUNT_NAME}
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
AZURE_STORAGE_CONTAINER_STATIC=static
AZURE_STORAGE_CONTAINER_MEDIA=media

# Application Insights
APPINSIGHTS_INSTRUMENTATIONKEY=${INSTRUMENTATION_KEY}
EOF

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è startup.sh –¥–ª—è App Service
cat > startup.sh << 'EOF'
#!/bin/bash

echo "Starting Django application..."

# Collect static files
python manage.py collectstatic --noinput

# Run migrations
python manage.py migrate --noinput

# Start Gunicorn
exec gunicorn --bind=0.0.0.0:8000 --timeout 600 --workers 3 config.wsgi:application
EOF

chmod +x startup.sh

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è web.config –¥–ª—è App Service
cat > web.config << 'EOF'
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <handlers>
      <add name="PythonHandler" path="*" verb="*" modules="httpPlatformHandler" resourceType="Unspecified"/>
    </handlers>
    <httpPlatform processPath="python" arguments="manage.py runserver --noreload 0.0.0.0:%HTTP_PLATFORM_PORT%" stdoutLogEnabled="true" stdoutLogFile="python.log" startupTimeLimit="60" processesPerApplication="16">
      <environmentVariables>
        <environmentVariable name="PYTHONPATH" value="%PYTHONPATH%;%{APPL_PHYSICAL_PATH}"/>
      </environmentVariables>
    </httpPlatform>
  </system.webServer>
</configuration>
EOF

# =============================================================================
# –ü–Ü–î–°–£–ú–û–ö
# =============================================================================

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è URL –¥–æ–¥–∞—Ç–∫—É
APP_URL=$(az webapp show \
    --name "$WEB_APP_NAME" \
    --resource-group "$RESOURCE_GROUP_NAME" \
    --query "defaultHostName" \
    --output tsv)

log "‚úÖ –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞!"

echo ""
echo "=========================================="
echo "üìã –ü–Ü–î–°–£–ú–û–ö –°–¢–í–û–†–ï–ù–ò–• –†–ï–°–£–†–°–Ü–í"
echo "=========================================="
echo "üåç Resource Group: $RESOURCE_GROUP_NAME"
echo "üöÄ Web App: $WEB_APP_NAME"
echo "üîó URL: https://$APP_URL"
echo "üìä App Service Plan: $APP_SERVICE_PLAN_NAME ($APP_SERVICE_SKU)"
echo "üóÑÔ∏è  PostgreSQL Server: $DATABASE_SERVER_NAME"
echo "üóÉÔ∏è  Database: $DATABASE_NAME"
echo "üíæ Storage Account: $STORAGE_ACCOUNT_NAME"
echo "üîê Key Vault: $KEY_VAULT_NAME"
echo "üìà Application Insights: $APP_INSIGHTS_NAME"
echo ""
echo "=========================================="
echo "üîë –î–û–°–¢–£–ü–ò (–ó–ë–ï–†–ï–ñ–Ü–¢–¨ –í –ë–ï–ó–ü–ï–ß–ù–û–ú–£ –ú–Ü–°–¶–Ü!)"
echo "=========================================="
echo "Database Admin User: $DB_ADMIN_USER"
echo "Database Admin Password: $DB_ADMIN_PASSWORD"
echo "Django Secret Key: –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ Key Vault"
echo "Storage Account Key: –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ Key Vault"
echo ""
echo "=========================================="
echo "üìù –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò"
echo "=========================================="
echo "1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –≤–∞—à Django –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Azure"
echo "2. –î–æ–¥–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –¥–æ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É"
echo "3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ CI/CD pipeline –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é"
echo "4. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö"
echo "5. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ Application Insights"
echo ""
echo "üöÄ –í–∞—à Django –¥–æ–¥–∞—Ç–æ–∫ –≥–æ—Ç–æ–≤–∏–π –¥–æ –¥–µ–ø–ª–æ—é!"
echo "=========================================="

# –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —É —Ñ–∞–π–ª
cat > infrastructure-summary.txt << EOF
Django Azure Infrastructure Summary
===================================
Created: $(date)
Project: $PROJECT_NAME
Environment: $ENVIRONMENT

Resources:
- Resource Group: $RESOURCE_GROUP_NAME
- Web App: $WEB_APP_NAME
- URL: https://$APP_URL
- Database Server: $DATABASE_SERVER_NAME
- Database: $DATABASE_NAME
- Storage Account: $STORAGE_ACCOUNT_NAME
- Key Vault: $KEY_VAULT_NAME
- Application Insights: $APP_INSIGHTS_NAME

Database Credentials:
- Admin User: $DB_ADMIN_USER
- Admin Password: $DB_ADMIN_PASSWORD

Connection String:
$DATABASE_URL
EOF

log "üìÑ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–∞ —É —Ñ–∞–π–ª: infrastructure-summary.txt"

```
---------------------------------------------------------------------------------------------------------------

```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-06-30 14:42:17] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-06-30 14:42:17] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-06-30 14:42:17] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-06-30 14:42:17] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-06-30 14:42:17] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-06-30 14:42:18] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-06-30 14:42:18] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
(AuthorizationFailed) The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourcegroups/django-app-production-rg' or the scope is invalid. If access was recently granted, please refresh your credentials.
Code: AuthorizationFailed
Message: The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourcegroups/django-app-production-rg' or the scope is invalid. If access was recently granted, please refresh your credentials.
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```


–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –≤–∞—à –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å –Ω–µ –º–∞—î –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Ö –ø—Ä–∞–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–Ω–∏—Ö –≥—Ä—É–ø –≤ Azure. –û—Å—å –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è:

## üîë **–®–≤–∏–¥–∫—ñ —Ä—ñ—à–µ–Ω–Ω—è:**

### 1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—Ç–æ—á–Ω—ñ –ø—Ä–∞–≤–∞:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—Ç–æ—á–Ω—É –ø—ñ–¥–ø–∏—Å–∫—É
az account show

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞—à—ñ —Ä–æ–ª—ñ
az role assignment list --assignee vitalii_shevchuk3@epam.com --all
```

### 2. **–û–Ω–æ–≤—ñ—Ç—å credentials:**
```bash
# –í–∏–π–¥—ñ—Ç—å —Ç–∞ –∑–Ω–æ–≤—É —É–≤—ñ–π–¥—ñ—Ç—å
az logout
az login

# –ê–±–æ –æ—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à
az account clear
az login
```

### 3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —ñ—Å–Ω—É—é—á—É Resource Group:**## üõ†Ô∏è **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏:**

### 4. **–ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑ –º–µ–Ω—à–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏:**

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å —Å–ø—Ä–æ—â–µ–Ω—É –≤–µ—Ä—Å—ñ—é —Å–∫—Ä–∏–ø—Ç–∞
cat > script_azure_limited.sh << 'EOF'
#!/bin/bash

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó Resource Group
EXISTING_RG="your-existing-rg"  # –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —ñ—Å–Ω—É—é—á—É RG
PROJECT_NAME="django-app"
LOCATION="West Europe"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è RG
if ! az group show --name "$EXISTING_RG" &> /dev/null; then
    echo "‚ùå Resource Group '$EXISTING_RG' –Ω–µ —ñ—Å–Ω—É—î"
    echo "–î–æ—Å—Ç—É–ø–Ω—ñ Resource Groups:"
    az group list --output table
    exit 1
fi

echo "‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Resource Group: $EXISTING_RG"

# –ü—Ä–æ–¥–æ–≤–∂—É—î–º–æ –∑—ñ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º —ñ–Ω—à–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤...
# (—Ä–µ—à—Ç–∞ –∫–æ–¥—É –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è RG)
EOF

chmod +x script_azure_limited.sh
```

### 5. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∞–ª:**

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Azure Portal](https://portal.azure.com)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Subscriptions** ‚Üí **Access control (IAM)**
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞—à—ñ —Ä–æ–ª—ñ —Ç–∞ –ø—Ä–∞–≤–∞

### 6. **–ó–∞–ø—Ä–æ—Å—ñ—Ç—å –ø—Ä–∞–≤–∞ —É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**

```bash
# –ü–æ–∫–∞–∂—ñ—Ç—å —Ü—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É
echo "–ü–æ—Ç—Ä—ñ–±–Ω—ñ –ø—Ä–∞–≤–∞ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞: vitalii_shevchuk3@epam.com"
echo "Object ID: 3c895225-e112-4a44-a6e4-0334207f6879"
echo "Subscription: 15c098cd-29f0-4f7e-8b7e-ea2ee94bb956"
echo "–ù–µ–æ–±—Ö—ñ–¥–Ω–∞ —Ä–æ–ª—å: Contributor –∞–±–æ Resource Group Contributor"
```

## üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**

**–î–ª—è EPAM —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:**
- –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –≤–∞—à–æ–≥–æ Azure –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ú–æ–∂–ª–∏–≤–æ —î –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏, —â–æ –æ–±–º–µ–∂—É—é—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è RG
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Å–Ω—É—é—á—ñ RG –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

**–®–≤–∏–¥–∫–µ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è:**
1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `az group list` —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ RG
2. –ó–º—ñ–Ω—ñ—Ç—å `RESOURCE_GROUP_NAME` –≤ —Å–∫—Ä–∏–ø—Ç—ñ –Ω–∞ —ñ—Å–Ω—É—é—á—É RG
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç

–•–æ—á–µ—Ç–µ, —â–æ–± —è –¥–æ–ø–æ–º—ñ–≥ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —ñ—Å–Ω—É—é—á–æ—é Resource Group?


```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az group list
[]
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az account show
{
  "environmentName": "AzureCloud",
  "homeTenantId": "b41b72d0-4e9f-4c26-8a69-f949f367c91d",
  "id": "15c098cd-29f0-4f7e-8b7e-ea2ee94bb956",
  "isDefault": true,
  "managedByTenants": [],
  "name": "EPAM Production",
  "state": "Enabled",
  "tenantDefaultDomain": "EPAM.onmicrosoft.com",
  "tenantDisplayName": "EPAM",
  "tenantId": "b41b72d0-4e9f-4c26-8a69-f949f367c91d",
  "user": {
    "name": "vitalii_shevchuk3@epam.com",
    "type": "user"
  }
}
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az role assignment list --assignee vitalii_shevchuk3@epam.com --all
[]
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```


```bash
^C@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 02:45:04] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 02:45:04] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 02:45:04] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 02:45:04] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 02:45:04] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[ERROR] –í–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –≤ Azure CLI. –í–∏–∫–æ–Ω–∞–π—Ç–µ 'az login'
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az login
To sign in, use a web browser to open the page https://microsoft.com/devicelogin and enter the code LKG9VV6N3 to authenticate.

Retrieving tenants and subscriptions for the selection...
Authentication failed against tenant 3a7a2d8e-5083-4ef2-809c-3a88f18e0ef8 'EPAM SECLAB UA': AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access '797f4846-ba00-4fd7-ba43-dac1f8f63013'. Trace ID: c0af776f-6eba-4e28-b2fb-abf2c7ed8300 Correlation ID: c433b3a1-cbea-4ef6-84e1-83445a811c08 Timestamp: 2025-07-01 02:46:21Z
The following tenants don't contain accessible subscriptions. Use `az login --allow-no-subscriptions` to have tenant level access.
0d37204a-f51c-4187-b869-028b3934a0b0 'NEORIS'
If you need to access subscriptions in the following tenants, please use `az login --tenant TENANT_ID`.
3a7a2d8e-5083-4ef2-809c-3a88f18e0ef8 'EPAM SECLAB UA'

[Tenant and subscription selection]

No     Subscription name    Subscription ID                       Tenant
-----  -------------------  ------------------------------------  --------
[1] *  EPAM Production      15c098cd-29f0-4f7e-8b7e-ea2ee94bb956  EPAM

The default is marked with an *; the default tenant is 'EPAM' and subscription is 'EPAM Production' (15c098cd-29f0-4f7e-8b7e-ea2ee94bb956).

Select a subscription and tenant (Type a number or Enter for no changes): 1

Tenant: EPAM
Subscription: EPAM Production (15c098cd-29f0-4f7e-8b7e-ea2ee94bb956)

[Announcements]
With the new Azure CLI login experience, you can select the subscription you want to use more easily. Learn more about it and its configuration at https://go.microsoft.com/fwlink/?linkid=2271236

If you encounter any problem, please open an issue at https://aka.ms/azclibug

[Warning] The login output has been updated. Please be aware that it no longer displays the full list of available subscriptions by default.

@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```

–í–∏ —É—Å–ø—ñ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑—É–≤–∞–ª–∏—Å—è –≤ Azure CLI —ñ –≥–æ—Ç–æ–≤—ñ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É. –û—Å—å —â–æ –≤—ñ–¥–±—É–ª–æ—Å—è:

## –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó ‚úÖ

**–£—Å–ø—ñ—à–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ:**
- **Tenant:** EPAM
- **Subscription:** EPAM Production (15c098cd-29f0-4f7e-8b7e-ea2ee94bb956)

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É:

```bash
./script_azure.sh
```

## –©–æ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ

–°—É–¥—è—á–∏ –∑ –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö –ª–æ–≥—ñ–≤, —Å–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–∏—Ç—å —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑ —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
- **–ü—Ä–æ–µ–∫—Ç:** django-app
- **–°–µ—Ä–µ–¥–æ–≤–∏—â–µ:** production
- **–†–µ–≥—ñ–æ–Ω:** West Europe

## –ú–æ–∂–ª–∏–≤—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–Ω–æ–≤—É:**
   ```bash
   ./script_azure.sh
   ```

2. **–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏:**
   ```bash
   az account show
   az group list
   ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É:**
   ```bash
   az role assignment list --assignee $(az account show --query user.name -o tsv)
   ```

## –ü—Ä–∏–º—ñ—Ç–∫–∏ —â–æ–¥–æ MFA

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –¥–ª—è tenant 'EPAM SECLAB UA' –ø–æ—Ç—Ä—ñ–±–Ω–∞ –±–∞–≥–∞—Ç–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –∞–ª–µ –≤–∏ —É—Å–ø—ñ—à–Ω–æ –ø—ñ–¥–∫–ª—é—á–∏–ª–∏—Å—è –¥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ EPAM tenant.

```bash

@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az account show
{
  "environmentName": "AzureCloud",
  "homeTenantId": "b41b72d0-4e9f-4c26-8a69-f949f367c91d",
  "id": "15c098cd-29f0-4f7e-8b7e-ea2ee94bb956",
  "isDefault": true,
  "managedByTenants": [],
  "name": "EPAM Production",
  "state": "Enabled",
  "tenantDefaultDomain": "EPAM.onmicrosoft.com",
  "tenantDisplayName": "EPAM",
  "tenantId": "b41b72d0-4e9f-4c26-8a69-f949f367c91d",
  "user": {
    "name": "vitalii_shevchuk3@epam.com",
    "type": "user"
  }
}
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az group list
[]
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az role assignment list --assignee $(az account show --query user.name -o tsv)
[]
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 

```


```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 03:01:30] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 03:01:30] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 03:01:30] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 03:01:30] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 03:01:30] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-07-01 03:01:30] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-07-01 03:01:30] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
(AuthorizationFailed) The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourcegroups/django-app-production-rg' or the scope is invalid. If access was recently granted, please refresh your credentials.
Code: AuthorizationFailed
Message: The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourcegroups/django-app-production-rg' or the scope is invalid. If access was recently granted, please refresh your credentials.
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 

```


## –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É ‚ùå

–í–∞—à –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å `vitalii_shevchuk3@epam.com` –Ω–µ –º–∞—î –¥–æ—Å—Ç–∞—Ç–Ω—ñ—Ö –ø—Ä–∞–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Groups —É subscription "EPAM Production".

## –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º–∏

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞—à—ñ –ø–æ—Ç–æ—á–Ω—ñ –ø—Ä–∞–≤–∞:**

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–∏—Ö —Ä–æ–ª–µ–π
az role assignment list --assignee vitalii_shevchuk3@epam.com --output table

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –ø—ñ–¥–ø–∏—Å–æ–∫
az account list --output table

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
az account show
```

## –ú–æ–∂–ª–∏–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è

### 1. –ó–º—ñ–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∏ (—è–∫—â–æ —î –¥–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—à–æ—ó)

```bash
# –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø—ñ–¥–ø–∏—Å–∫–∏
az account list --output table

# –ü–µ—Ä–µ–º–∫–Ω—ñ—Ç—å—Å—è –Ω–∞ —ñ–Ω—à—É –ø—ñ–¥–ø–∏—Å–∫—É (—è–∫—â–æ —î)
az account set --subscription "YOUR_SUBSCRIPTION_ID"
```

### 2. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó Resource Group

–ú–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó Resource Group:

```bash
# –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —ñ—Å–Ω—É—é—á—ñ Resource Groups
az group list --output table

# –ó–Ω–∞–π–¥—ñ—Ç—å Resource Group, –¥–æ —è–∫–æ—ó —É –≤–∞—Å —î –¥–æ—Å—Ç—É–ø
az group list --query "[?contains(name, 'test') || contains(name, 'dev')]" --output table
```

### 3. –ó–∞–ø–∏—Ç –ø—Ä–∞–≤ —É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ Azure –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ EPAM –∑ –ø—Ä–æ—Ö–∞–Ω–Ω—è–º –Ω–∞–¥–∞—Ç–∏ –ø—Ä–∞–≤–∞:
- **Contributor** –∞–±–æ **Owner** —Ä–æ–ª—å –Ω–∞ subscription
- –ê–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º—É Resource Group –∑ –ø—Ä–∞–≤–∞–º–∏ Contributor

### 4. –¢–∏–º—á–∞—Å–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è dev —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç—É –Ω–∞ –º–µ–Ω—à –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω—ñ:

```bash
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —ñ –∑–º—ñ–Ω—ñ—Ç—å:
# ENVIRONMENT="production" –Ω–∞ ENVIRONMENT="dev"
# PROJECT_NAME="django-app" –Ω–∞ PROJECT_NAME="test-django"
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –ª–æ–∫–∞—Ü—ñ–π
az account list-locations --output table

# –ü–µ—Ä–µ–≥–ª—è–¥ —ñ—Å–Ω—É—é—á–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
az resource list --output table
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

1. **–ù–µ–≥–∞–π–Ω–æ:** –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –≤–∞—à–æ–≥–æ Azure –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∞–±–æ —Ç—ñ–º-–ª—ñ–¥–∞
2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –æ—Å–æ–±–∏—Å—Ç—É Azure –ø—ñ–¥–ø–∏—Å–∫—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
3. **–î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏:** –°—Ç–≤–æ—Ä—ñ—Ç—å –æ–∫—Ä–µ–º–∏–π –ø—Ä–æ–µ–∫—Ç –≤ dev —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ


```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az resource list --output table
Name            ResourceGroup    Location     Type                               Status
--------------  ---------------  -----------  ---------------------------------  --------
gessimages      StorageAccounts  westeurope   Microsoft.Storage/storageAccounts
gessimagestest  StorageAccounts  northeurope  Microsoft.Storage/storageAccounts
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az group list --query "[?contains(name, 'test') || contains(name, 'dev')]" --output table

@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az account list-locations --output table
DisplayName               Name                 RegionalDisplayName
------------------------  -------------------  -------------------------------------
East US                   eastus               (US) East US
South Central US          southcentralus       (US) South Central US
West US 2                 westus2              (US) West US 2
West US 3                 westus3              (US) West US 3
Australia East            australiaeast        (Asia Pacific) Australia East
Southeast Asia            southeastasia        (Asia Pacific) Southeast Asia
North Europe              northeurope          (Europe) North Europe
Sweden Central            swedencentral        (Europe) Sweden Central
UK South                  uksouth              (Europe) UK South
West Europe               westeurope           (Europe) West Europe
Central US                centralus            (US) Central US
South Africa North        southafricanorth     (Africa) South Africa North
Central India             centralindia         (Asia Pacific) Central India
East Asia                 eastasia             (Asia Pacific) East Asia
Indonesia Central         indonesiacentral     (Asia Pacific) Indonesia Central
Japan East                japaneast            (Asia Pacific) Japan East
Japan West                japanwest            (Asia Pacific) Japan West
Korea Central             koreacentral         (Asia Pacific) Korea Central
Malaysia West             malaysiawest         (Asia Pacific) Malaysia West
New Zealand North         newzealandnorth      (Asia Pacific) New Zealand North
Canada Central            canadacentral        (Canada) Canada Central
France Central            francecentral        (Europe) France Central
Germany West Central      germanywestcentral   (Europe) Germany West Central
Italy North               italynorth           (Europe) Italy North
Norway East               norwayeast           (Europe) Norway East
Poland Central            polandcentral        (Europe) Poland Central
Spain Central             spaincentral         (Europe) Spain Central
Switzerland North         switzerlandnorth     (Europe) Switzerland North
Mexico Central            mexicocentral        (Mexico) Mexico Central
UAE North                 uaenorth             (Middle East) UAE North
Brazil South              brazilsouth          (South America) Brazil South
Chile Central             chilecentral         (South America) Chile Central
East US 2 EUAP            eastus2euap          (US) East US 2 EUAP
Israel Central            israelcentral        (Middle East) Israel Central
Qatar Central             qatarcentral         (Middle East) Qatar Central
Central US (Stage)        centralusstage       (US) Central US (Stage)
East US (Stage)           eastusstage          (US) East US (Stage)
East US 2 (Stage)         eastus2stage         (US) East US 2 (Stage)
North Central US (Stage)  northcentralusstage  (US) North Central US (Stage)
South Central US (Stage)  southcentralusstage  (US) South Central US (Stage)
West US (Stage)           westusstage          (US) West US (Stage)
West US 2 (Stage)         westus2stage         (US) West US 2 (Stage)
Asia                      asia                 Asia
Asia Pacific              asiapacific          Asia Pacific
Australia                 australia            Australia
Brazil                    brazil               Brazil
Canada                    canada               Canada
Europe                    europe               Europe
France                    france               France
Germany                   germany              Germany
Global                    global               Global
India                     india                India
Indonesia                 indonesia            Indonesia
Israel                    israel               Israel
Italy                     italy                Italy
Japan                     japan                Japan
Korea                     korea                Korea
Malaysia                  malaysia             Malaysia
Mexico                    mexico               Mexico
New Zealand               newzealand           New Zealand
Norway                    norway               Norway
Poland                    poland               Poland
Qatar                     qatar                Qatar
Singapore                 singapore            Singapore
South Africa              southafrica          South Africa
Spain                     spain                Spain
Sweden                    sweden               Sweden
Switzerland               switzerland          Switzerland
Taiwan                    taiwan               Taiwan
United Arab Emirates      uae                  United Arab Emirates
United Kingdom            uk                   United Kingdom
United States             unitedstates         United States
United States EUAP        unitedstateseuap     United States EUAP
East Asia (Stage)         eastasiastage        (Asia Pacific) East Asia (Stage)
Southeast Asia (Stage)    southeastasiastage   (Asia Pacific) Southeast Asia (Stage)
Brazil US                 brazilus             (South America) Brazil US
East US 2                 eastus2              (US) East US 2
East US STG               eastusstg            (US) East US STG
North Central US          northcentralus       (US) North Central US
West US                   westus               (US) West US
Jio India West            jioindiawest         (Asia Pacific) Jio India West
Central US EUAP           centraluseuap        (US) Central US EUAP
South Central US STG      southcentralusstg    (US) South Central US STG
West Central US           westcentralus        (US) West Central US
South Africa West         southafricawest      (Africa) South Africa West
Australia Central         australiacentral     (Asia Pacific) Australia Central
Australia Central 2       australiacentral2    (Asia Pacific) Australia Central 2
Australia Southeast       australiasoutheast   (Asia Pacific) Australia Southeast
Jio India Central         jioindiacentral      (Asia Pacific) Jio India Central
Korea South               koreasouth           (Asia Pacific) Korea South
South India               southindia           (Asia Pacific) South India
West India                westindia            (Asia Pacific) West India
Canada East               canadaeast           (Canada) Canada East
France South              francesouth          (Europe) France South
Germany North             germanynorth         (Europe) Germany North
Norway West               norwaywest           (Europe) Norway West
Switzerland West          switzerlandwest      (Europe) Switzerland West
UK West                   ukwest               (Europe) UK West
UAE Central               uaecentral           (Middle East) UAE Central
Brazil Southeast          brazilsoutheast      (South America) Brazil Southeast
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```



## –ê–Ω–∞–ª—ñ–∑ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ üìã

–ó—ñ —Å–ø–∏—Å–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤ –≤–∏–¥–Ω–æ, —â–æ —É –≤–∞—Å —î –æ–±–º–µ–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø:

### –ù–∞—è–≤–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏:
- **gessimages** (Storage Account) - West Europe
- **gessimagestest** (Storage Account) - North Europe
- **Resource Group:** StorageAccounts

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ä—ñ—à–µ–Ω–Ω—è

–°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Å–Ω—É—é—á—É Resource Group "StorageAccounts":

## –í–∞—Ä—ñ–∞–Ω—Ç 1: –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ—ó RG

```bash
# –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —ñ—Å–Ω—É—é—á—É Resource Group
az group show --name "StorageAccounts" --output table

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –≤ —Ü—ñ–π –≥—Ä—É–ø—ñ
az role assignment list --resource-group "StorageAccounts" --assignee vitalii_shevchuk3@epam.com --output table
```

## –í–∞—Ä—ñ–∞–Ω—Ç 2: –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—Å—Ç—ñ—à—É –≤–µ—Ä—Å—ñ—é —Å–∫—Ä–∏–ø—Ç—É

–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ñ–∞–π–ª `script_azure_simple.sh`:## –í–∞—Ä—ñ–∞–Ω—Ç 3: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤ –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

–°–ø–æ—á–∞—Ç–∫—É –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏:

```bash
# –¢–µ—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É –≤ —ñ—Å–Ω—É—é—á—ñ–π RG
az appservice plan create \
    --name "test-plan-$(date +%s)" \
    --resource-group "StorageAccounts" \
    --location "westeurope" \
    --sku F1 \
    --is-linux \
    --output table
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ø—Ä–æ—â–µ–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç—É

```bash
# –ó—Ä–æ–±—ñ—Ç—å —Ñ–∞–π–ª –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x script_azure_simple.sh

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–ø—Ä–æ—â–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
./script_azure_simple.sh
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Azure Portal

–Ø–∫—â–æ —Å–∫—Ä–∏–ø—Ç –Ω–µ –ø—Ä–∞—Ü—é—î, —Å–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ —á–µ—Ä–µ–∑ Azure Portal:
1. –£–≤—ñ–π–¥—ñ—Ç—å –Ω–∞ https://portal.azure.com
2. –ó–Ω–∞–π–¥—ñ—Ç—å Resource Group "StorageAccounts"
3. –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ App Service –≤—Ä—É—á–Ω—É



```bash
#!/bin/bash

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
EXISTING_RG="StorageAccounts"
PROJECT_NAME="django-portfolio"
LOCATION="westeurope"  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ä–µ–≥—ñ–æ–Ω, –¥–µ –≤–∂–µ —î —Ä–µ—Å—É—Ä—Å–∏
TIMESTAMP=$(date +%Y%m%d%H%M)

echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ —É —ñ—Å–Ω—É—é—á—ñ–π Resource Group..."
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Resource Group: $EXISTING_RG"
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ü—Ä–æ–µ–∫—Ç: $PROJECT_NAME"
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –†–µ–≥—ñ–æ–Ω: $LOCATION"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è Resource Group
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ Resource Group..."
if ! az group show --name "$EXISTING_RG" --output none 2>/dev/null; then
    echo "[ERROR] Resource Group '$EXISTING_RG' –Ω–µ —ñ—Å–Ω—É—î –∞–±–æ –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Resource Group –¥–æ—Å—Ç—É–ø–Ω–∞"

# –ì–µ–Ω–µ—Ä—É—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –Ω–∞–∑–≤–∏ —Ä–µ—Å—É—Ä—Å—ñ–≤
APP_SERVICE_PLAN_NAME="${PROJECT_NAME}-plan-${TIMESTAMP}"
WEB_APP_NAME="${PROJECT_NAME}-web-${TIMESTAMP}"
STORAGE_NAME="${PROJECT_NAME}storage${TIMESTAMP}"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan: $APP_SERVICE_PLAN_NAME"
az appservice plan create \
    --name "$APP_SERVICE_PLAN_NAME" \
    --resource-group "$EXISTING_RG" \
    --location "$LOCATION" \
    --sku B1 \
    --is-linux

if [ $? -ne 0 ]; then
    echo "[ERROR] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ App Service Plan"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ App Service Plan —Å—Ç–≤–æ—Ä–µ–Ω–æ"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App: $WEB_APP_NAME"
az webapp create \
    --name "$WEB_APP_NAME" \
    --resource-group "$EXISTING_RG" \
    --plan "$APP_SERVICE_PLAN_NAME" \
    --runtime "PYTHON:3.11"

if [ $? -ne 0 ]; then
    echo "[ERROR] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Web App"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Web App —Å—Ç–≤–æ—Ä–µ–Ω–æ"

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É –¥–ª—è Django
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django..."
az webapp config appsettings set \
    --name "$WEB_APP_NAME" \
    --resource-group "$EXISTING_RG" \
    --settings \
        DJANGO_SETTINGS_MODULE="myproject.settings" \
        PYTHONPATH="/home/site/wwwroot" \
        SCM_DO_BUILD_DURING_DEPLOYMENT=true

# –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Storage Account (–º–æ–∂–µ –Ω–µ –≤–∏–π—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∞)
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: $STORAGE_NAME"
az storage account create \
    --name "$STORAGE_NAME" \
    --resource-group "$EXISTING_RG" \
    --location "$LOCATION" \
    --sku Standard_LRS \
    --kind StorageV2 2>/dev/null

if [ $? -eq 0 ]; then
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Storage Account —Å—Ç–≤–æ—Ä–µ–Ω–æ"
    
    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø—É
    STORAGE_KEY=$(az storage account keys list \
        --account-name "$STORAGE_NAME" \
        --resource-group "$EXISTING_RG" \
        --query "[0].value" --output tsv)
    
    # –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –¥–ª—è Storage
    az webapp config appsettings set \
        --name "$WEB_APP_NAME" \
        --resource-group "$EXISTING_RG" \
        --settings \
            AZURE_STORAGE_ACCOUNT_NAME="$STORAGE_NAME" \
            AZURE_STORAGE_ACCOUNT_KEY="$STORAGE_KEY"
else
    echo "[WARNING] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Storage Account. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Å–Ω—É—é—á–∏–π gessimages"
    
    # –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ storage account
    EXISTING_STORAGE="gessimages"
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ Storage: $EXISTING_STORAGE"
    
    # –°–ø—Ä–æ–±–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–ª—é—á (–º–æ–∂–µ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∞)
    STORAGE_KEY=$(az storage account keys list \
        --account-name "$EXISTING_STORAGE" \
        --resource-group "$EXISTING_RG" \
        --query "[0].value" --output tsv 2>/dev/null)
    
    if [ -n "$STORAGE_KEY" ]; then
        az webapp config appsettings set \
            --name "$WEB_APP_NAME" \
            --resource-group "$EXISTING_RG" \
            --settings \
                AZURE_STORAGE_ACCOUNT_NAME="$EXISTING_STORAGE" \
                AZURE_STORAGE_ACCOUNT_KEY="$STORAGE_KEY"
    fi
fi

# –†–µ–∑—É–ª—å—Ç–∞—Ç–∏
echo ""
echo "=================================="
echo "üéâ –†–ï–°–£–†–°–ò –°–¢–í–û–†–ï–ù–û –£–°–ü–Ü–®–ù–û!"
echo "=================================="
echo "Resource Group: $EXISTING_RG"
echo "App Service Plan: $APP_SERVICE_PLAN_NAME"
echo "Web App: $WEB_APP_NAME"
echo "Web App URL: https://${WEB_APP_NAME}.azurewebsites.net"
echo ""
echo "–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:"
echo "1. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç —ñ–∑ GitHub:"
echo "   az webapp deployment source config --name $WEB_APP_NAME --resource-group $EXISTING_RG --repo-url YOUR_GITHUB_REPO"
echo ""
echo "2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏:"
echo "   az webapp log tail --name $WEB_APP_NAME --resource-group $EXISTING_RG"
echo "=================================="
```


```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az appservice plan create \
>     --name "test-plan-$(date +%s)" \
>     --resource-group "StorageAccounts" \
>     --location "westeurope" \
>     --sku F1 \
>     --is-linux \
>     --output table
(AuthorizationFailed) The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Web/serverfarms/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourceGroups/StorageAccounts/providers/Microsoft.Web/serverfarms/test-plan-1751340203' or the scope is invalid. If access was recently granted, please refresh your credentials.
Code: AuthorizationFailed
Message: The client 'vitalii_shevchuk3@epam.com' with object id '3c895225-e112-4a44-a6e4-0334207f6879' does not have authorization to perform action 'Microsoft.Web/serverfarms/write' over scope '/subscriptions/15c098cd-29f0-4f7e-8b7e-ea2ee94bb956/resourceGroups/StorageAccounts/providers/Microsoft.Web/serverfarms/test-plan-1751340203' or the scope is invalid. If access was recently granted, please refresh your credentials.
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```



```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az logout
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az login
To sign in, use a web browser to open the page https://microsoft.com/devicelogin and enter the code C4EBSP56X to authenticate.

Retrieving tenants and subscriptions for the selection...

[Tenant and subscription selection]

No     Subscription name     Subscription ID                       Tenant
-----  --------------------  ------------------------------------  -----------------
[1]    Azure subscription 1  0023db84-3d8f-4017-b39e-ce7826ea388d  Default Directory
[2] *  Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è    826d896f-b844-48c3-998e-c8e36c27e681  Default Directory

The default is marked with an *; the default tenant is 'Default Directory' and subscription is 'Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è' (826d896f-b844-48c3-998e-c8e36c27e681).

Select a subscription and tenant (Type a number or Enter for no changes): 2

Tenant: Default Directory
Subscription: Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è (826d896f-b844-48c3-998e-c8e36c27e681)

[Announcements]
With the new Azure CLI login experience, you can select the subscription you want to use more easily. Learn more about it and its configuration at https://go.microsoft.com/fwlink/?linkid=2271236

If you encounter any problem, please open an issue at https://aka.ms/azclibug

[Warning] The login output has been updated. Please be aware that it no longer displays the full list of available subscriptions by default.

@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 04:04:30] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 04:04:30] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 04:04:30] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 04:04:30] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 04:04:30] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-07-01 04:04:30] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-07-01 04:04:30] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
{
  "id": "/subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-app-production-rg",
  "location": "westeurope",
  "managedBy": null,
  "name": "django-app-production-rg",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Resources/resourceGroups"
}
[2025-07-01 04:04:33] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: django-appproductionstorage1751342670
(SubscriptionNotFound) Subscription 826d896f-b844-48c3-998e-c8e36c27e681 was not found.
Code: SubscriptionNotFound
Message: Subscription 826d896f-b844-48c3-998e-c8e36c27e681 was not found.
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $
```

## –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—ñ–¥–ø–∏—Å–∫–æ—é "Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è" ‚ö†Ô∏è

–°—Ö–æ–∂–µ, —â–æ –ø—ñ–¥–ø–∏—Å–∫–∞ "Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è" –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è –∞–±–æ —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –°–ø—Ä–æ–±—É–π–º–æ –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏—Å—è –Ω–∞ —ñ–Ω—à—É –ø—ñ–¥–ø–∏—Å–∫—É.

## –†—ñ—à–µ–Ω–Ω—è

### 1. –ü–µ—Ä–µ–º–∫–Ω—ñ—Ç—å—Å—è –Ω–∞ –ø–µ—Ä—à—É –ø—ñ–¥–ø–∏—Å–∫—É

```bash
az account set --subscription "0023db84-3d8f-4017-b39e-ce7826ea388d"
az account show
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ —Ç–∞ —ó—Ö —Å—Ç–∞—Ç—É—Å

```bash
# –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—ñ–¥–ø–∏—Å–∫–∏
az account list --output table

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
az account show --query "{Name:name, ID:id, State:state}" --output table
```

### 3. –Ø–∫—â–æ –ø–µ—Ä—à–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ –ø—Ä–∞—Ü—é—î, –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–Ω–æ–≤—É

```bash
./script_azure.sh
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è - –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è –¥–ª—è student –ø—ñ–¥–ø–∏—Å–∫–∏

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏—Å—è –∑ student –ø—ñ–¥–ø–∏—Å–∫–æ—é, —Å—Ç–≤–æ—Ä—ñ—Ç—å —Å–ø—Ä–æ—â–µ–Ω—É –≤–µ—Ä—Å—ñ—é:## –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó:

### –°–ø–æ—á–∞—Ç–∫—É —Å–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏—Å—è –Ω–∞ –ø–µ—Ä—à—É –ø—ñ–¥–ø–∏—Å–∫—É:

```bash
az account set --subscription "0023db84-3d8f-4017-b39e-ce7826ea388d"
./script_azure.sh
```

### –Ø–∫—â–æ —Ü–µ –Ω–µ –ø—Ä–∞—Ü—é—î, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π —Ñ–∞–π–ª
nano script_azure_student.sh

# –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–æ–¥ –∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É –≤–∏—â–µ
# –ó—Ä–æ–±—ñ—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x script_azure_student.sh

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å
./script_azure_student.sh
```

```bash
#!/bin/bash

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
PROJECT_NAME="django-portfolio"
ENVIRONMENT="dev"  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ dev –∑–∞–º—ñ—Å—Ç—å production
LOCATION="westeurope"
TIMESTAMP=$(date +%s)

# –£–Ω—ñ–∫–∞–ª—å–Ω—ñ –Ω–∞–∑–≤–∏ (–∫–æ—Ä–æ—Ç—à—ñ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏)
RG_NAME="${PROJECT_NAME}-${ENVIRONMENT}-rg"
STORAGE_NAME="djstore${TIMESTAMP}"
APP_PLAN_NAME="${PROJECT_NAME}-plan"
WEB_APP_NAME="${PROJECT_NAME}-web-${TIMESTAMP}"

echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django (Student Edition)..."
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ü—Ä–æ–µ–∫—Ç: $PROJECT_NAME"
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: $ENVIRONMENT"
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –†–µ–≥—ñ–æ–Ω: $LOCATION"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∏
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∏..."
SUBSCRIPTION_INFO=$(az account show --query "{name:name, id:id, state:state}" --output json)
echo "–ü–æ—Ç–æ—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞: $(echo $SUBSCRIPTION_INFO | jq -r .name)"

if [ "$(echo $SUBSCRIPTION_INFO | jq -r .state)" != "Enabled" ]; then
    echo "[ERROR] –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞. –°—Ç–∞—Ç—É—Å: $(echo $SUBSCRIPTION_INFO | jq -r .state)"
    exit 1
fi

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: $RG_NAME"
az group create \
    --name "$RG_NAME" \
    --location "$LOCATION" \
    --tags Project="$PROJECT_NAME" Environment="$ENVIRONMENT" CreatedBy="StudentScript"

if [ $? -ne 0 ]; then
    echo "[ERROR] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Resource Group"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Resource Group —Å—Ç–≤–æ—Ä–µ–Ω–æ"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤)
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan: $APP_PLAN_NAME"
az appservice plan create \
    --name "$APP_PLAN_NAME" \
    --resource-group "$RG_NAME" \
    --location "$LOCATION" \
    --sku F1 \
    --is-linux

if [ $? -ne 0 ]; then
    echo "[ERROR] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ App Service Plan"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ App Service Plan —Å—Ç–≤–æ—Ä–µ–Ω–æ"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App: $WEB_APP_NAME"
az webapp create \
    --name "$WEB_APP_NAME" \
    --resource-group "$RG_NAME" \
    --plan "$APP_PLAN_NAME" \
    --runtime "PYTHON:3.11"

if [ $? -ne 0 ]; then
    echo "[ERROR] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Web App"
    exit 1
fi

echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Web App —Å—Ç–≤–æ—Ä–µ–Ω–æ"

# –°–ø—Ä–æ–±–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä—ñ–≤–µ–Ω—å)
echo "[$(date '+%Y-%m-%d %H:%M:%S')] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: $STORAGE_NAME"
az storage account create \
    --name "$STORAGE_NAME" \
    --resource-group "$RG_NAME" \
    --location "$LOCATION" \
    --sku Standard_LRS \
    --kind BlobStorage \
    --access-tier Hot

if [ $? -eq 0 ]; then
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] ‚úÖ Storage Account —Å—Ç–≤–æ—Ä–µ–Ω–æ"
    
    # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django..."
    
    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á–∞ Storage Account
    STORAGE_KEY=$(az storage account keys list \
        --account-name "$STORAGE_NAME" \
        --resource-group "$RG_NAME" \
        --query "[0].value" --output tsv)
    
    # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
    az webapp config appsettings set \
        --name "$WEB_APP_NAME" \
        --resource-group "$RG_NAME" \
        --settings \
            DJANGO_SETTINGS_MODULE="myproject.settings" \
            PYTHONPATH="/home/site/wwwroot" \
            SCM_DO_BUILD_DURING_DEPLOYMENT=true \
            AZURE_STORAGE_ACCOUNT_NAME="$STORAGE_NAME" \
            AZURE_STORAGE_ACCOUNT_KEY="$STORAGE_KEY" \
            DEBUG=False \
            ALLOWED_HOSTS="${WEB_APP_NAME}.azurewebsites.net,localhost,127.0.0.1"
            
else
    echo "[WARNING] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Storage Account. –ü—Ä–æ–¥–æ–≤–∂—É—î–º–æ –±–µ–∑ –Ω—å–æ–≥–æ..."
    
    # –ë–∞–∑–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ Storage
    az webapp config appsettings set \
        --name "$WEB_APP_NAME" \
        --resource-group "$RG_NAME" \
        --settings \
            DJANGO_SETTINGS_MODULE="myproject.settings" \
            PYTHONPATH="/home/site/wwwroot" \
            SCM_DO_BUILD_DURING_DEPLOYMENT=true \
            DEBUG=False \
            ALLOWED_HOSTS="${WEB_APP_NAME}.azurewebsites.net,localhost,127.0.0.1"
fi

# –†–µ–∑—É–ª—å—Ç–∞—Ç–∏
echo ""
echo "=================================="
echo "üéì STUDENT DEPLOYMENT –ì–û–¢–û–í–ò–ô!"
echo "=================================="
echo "Resource Group: $RG_NAME"
echo "App Service Plan: $APP_PLAN_NAME (F1 - Free)"
echo "Web App: $WEB_APP_NAME"
echo "Web App URL: https://${WEB_APP_NAME}.azurewebsites.net"
if [ -n "$STORAGE_NAME" ]; then
    echo "Storage Account: $STORAGE_NAME"
fi
echo ""
echo "–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É:"
echo "1. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:"
echo "   az webapp deployment source config --name $WEB_APP_NAME --resource-group $RG_NAME --repo-url https://github.com/YOUR_USERNAME/YOUR_REPO --branch main"
echo ""
echo "2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:"
echo "   az webapp deployment source config-zip --src portfolio.zip --name $WEB_APP_NAME --resource-group $RG_NAME"
echo ""
echo "3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏:"
echo "   az webapp log tail --name $WEB_APP_NAME --resource-group $RG_NAME"
echo ""
echo "4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É:"
echo "   az webapp restart --name $WEB_APP_NAME --resource-group $RG_NAME"
echo "=================================="


```






```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ chmod +x script_azure_student.sh
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure_student.sh
[2025-07-01 05:47:36] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django (Student Edition)...
[2025-07-01 05:47:36] –ü—Ä–æ–µ–∫—Ç: django-portfolio
[2025-07-01 05:47:36] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: dev
[2025-07-01 05:47:36] –†–µ–≥—ñ–æ–Ω: westeurope
[2025-07-01 05:47:36] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∏...
–ü–æ—Ç–æ—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞: Azure –¥–ª—è —É—á–∞—â–∏—Ö—Å—è
[2025-07-01 05:47:37] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-portfolio-dev-rg
{
  "id": "/subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-portfolio-dev-rg",
  "location": "westeurope",
  "managedBy": null,
  "name": "django-portfolio-dev-rg",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": {
    "CreatedBy": "StudentScript",
    "Environment": "dev",
    "Project": "django-portfolio"
  },
  "type": "Microsoft.Resources/resourceGroups"
}
[2025-07-01 05:47:38] ‚úÖ Resource Group —Å—Ç–≤–æ—Ä–µ–Ω–æ
[2025-07-01 05:47:38] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan: django-portfolio-plan
{
  "elasticScaleEnabled": false,
  "extendedLocation": null,
  "freeOfferExpirationTime": null,
  "geoRegion": "West Europe",
  "hostingEnvironmentProfile": null,
  "hyperV": false,
  "id": "/subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-portfolio-dev-rg/providers/Microsoft.Web/serverfarms/django-portfolio-plan",
  "isSpot": false,
  "isXenon": false,
  "kind": "linux",
  "kubeEnvironmentProfile": null,
  "location": "westeurope",
  "maximumElasticWorkerCount": 1,
  "maximumNumberOfWorkers": 0,
  "name": "django-portfolio-plan",
  "numberOfSites": 0,
  "numberOfWorkers": 1,
  "perSiteScaling": false,
  "provisioningState": "Succeeded",
  "reserved": true,
  "resourceGroup": "django-portfolio-dev-rg",
  "sku": {
    "capabilities": null,
    "capacity": 1,
    "family": "U",
    "locations": null,
    "name": "U13",
    "size": "U13",
    "skuCapacity": null,
    "tier": "LinuxFree"
  },
  "spotExpirationTime": null,
  "status": "Ready",
  "subscription": "826d896f-b844-48c3-998e-c8e36c27e681",
  "tags": null,
  "targetWorkerCount": 0,
  "targetWorkerSizeId": 0,
  "type": "Microsoft.Web/serverfarms",
  "workerTierName": null,
  "zoneRedundant": false
}
[2025-07-01 05:47:45] ‚úÖ App Service Plan —Å—Ç–≤–æ—Ä–µ–Ω–æ
[2025-07-01 05:47:45] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App: django-portfolio-web-1751348856
{
  "availabilityState": "Normal",
  "clientAffinityEnabled": true,
  "clientCertEnabled": false,
  "clientCertExclusionPaths": null,
  "clientCertMode": "Required",
  "cloningInfo": null,
  "containerSize": 0,
  "customDomainVerificationId": "D0BFF007869BBFD5B439D6620296D94A14B6BC56E8FB873C9AADB357A6CE0D3B",
  "dailyMemoryTimeQuota": 0,
  "daprConfig": null,
  "defaultHostName": "django-portfolio-web-1751348856.azurewebsites.net",
  "enabled": true,
  "enabledHostNames": [
    "django-portfolio-web-1751348856.azurewebsites.net",
    "django-portfolio-web-1751348856.scm.azurewebsites.net"
  ],
  "endToEndEncryptionEnabled": false,
  "extendedLocation": null,
  "ftpPublishingUrl": "ftps://waws-prod-am2-601.ftp.azurewebsites.windows.net/site/wwwroot",
  "hostNameSslStates": [
    {
      "certificateResourceId": null,
      "hostType": "Standard",
      "ipBasedSslResult": null,
      "ipBasedSslState": "NotConfigured",
      "name": "django-portfolio-web-1751348856.azurewebsites.net",
      "sslState": "Disabled",
      "thumbprint": null,
      "toUpdate": null,
      "toUpdateIpBasedSsl": null,
      "virtualIPv6": null,
      "virtualIp": null
    },
    {
      "certificateResourceId": null,
      "hostType": "Repository",
      "ipBasedSslResult": null,
      "ipBasedSslState": "NotConfigured",
      "name": "django-portfolio-web-1751348856.scm.azurewebsites.net",
      "sslState": "Disabled",
      "thumbprint": null,
      "toUpdate": null,
      "toUpdateIpBasedSsl": null,
      "virtualIPv6": null,
      "virtualIp": null
    }
  ],
  "hostNames": [
    "django-portfolio-web-1751348856.azurewebsites.net"
  ],
  "hostNamesDisabled": false,
  "hostingEnvironmentProfile": null,
  "httpsOnly": false,
  "hyperV": false,
  "id": "/subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-portfolio-dev-rg/providers/Microsoft.Web/sites/django-portfolio-web-1751348856",
  "identity": null,
  "inProgressOperationId": null,
  "isDefaultContainer": null,
  "isXenon": false,
  "keyVaultReferenceIdentity": "SystemAssigned",
  "kind": "app,linux",
  "lastModifiedTimeUtc": "2025-07-01T05:47:49.590000",
  "location": "West Europe",
  "managedEnvironmentId": null,
  "maxNumberOfWorkers": null,
  "name": "django-portfolio-web-1751348856",
  "outboundIpAddresses": "51.124.59.99,51.124.59.175,51.124.59.252,51.124.60.129,51.124.60.243,51.124.60.249,20.105.224.17",
  "possibleOutboundIpAddresses": "51.124.59.99,51.124.59.175,51.124.59.252,51.124.60.129,51.124.60.243,51.124.60.249,51.124.61.31,51.124.61.49,51.124.61.56,51.124.61.142,51.124.61.184,51.124.61.192,51.105.209.160,51.105.210.136,51.105.210.122,51.124.56.53,51.124.61.162,51.105.210.2,51.124.61.169,51.105.209.155,51.124.57.83,51.124.62.101,51.124.57.229,51.124.58.97,20.105.224.17",
  "publicNetworkAccess": null,
  "redundancyMode": "None",
  "repositorySiteName": "django-portfolio-web-1751348856",
  "reserved": true,
  "resourceConfig": null,
  "resourceGroup": "django-portfolio-dev-rg",
  "scmSiteAlsoStopped": false,
  "serverFarmId": "/subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-portfolio-dev-rg/providers/Microsoft.Web/serverfarms/django-portfolio-plan",
  "siteConfig": {
    "acrUseManagedIdentityCreds": false,
    "acrUserManagedIdentityId": null,
    "alwaysOn": false,
    "antivirusScanEnabled": null,
    "apiDefinition": null,
    "apiManagementConfig": null,
    "appCommandLine": null,
    "appSettings": null,
    "autoHealEnabled": null,
    "autoHealRules": null,
    "autoSwapSlotName": null,
    "azureMonitorLogCategories": null,
    "azureStorageAccounts": null,
    "clusteringEnabled": false,
    "connectionStrings": null,
    "cors": null,
    "customAppPoolIdentityAdminState": null,
    "customAppPoolIdentityTenantState": null,
    "defaultDocuments": null,
    "detailedErrorLoggingEnabled": null,
    "documentRoot": null,
    "elasticWebAppScaleLimit": 0,
    "experiments": null,
    "fileChangeAuditEnabled": null,
    "ftpsState": null,
    "functionAppScaleLimit": null,
    "functionsRuntimeScaleMonitoringEnabled": null,
    "handlerMappings": null,
    "healthCheckPath": null,
    "http20Enabled": false,
    "http20ProxyFlag": null,
    "httpLoggingEnabled": null,
    "ipSecurityRestrictions": [
      {
        "action": "Allow",
        "description": "Allow all access",
        "headers": null,
        "ipAddress": "Any",
        "name": "Allow all",
        "priority": 2147483647,
        "subnetMask": null,
        "subnetTrafficTag": null,
        "tag": null,
        "vnetSubnetResourceId": null,
        "vnetTrafficTag": null
      }
    ],
    "ipSecurityRestrictionsDefaultAction": null,
    "javaContainer": null,
    "javaContainerVersion": null,
    "javaVersion": null,
    "keyVaultReferenceIdentity": null,
    "limits": null,
    "linuxFxVersion": "",
    "loadBalancing": null,
    "localMySqlEnabled": null,
    "logsDirectorySizeLimit": null,
    "machineKey": null,
    "managedPipelineMode": null,
    "managedServiceIdentityId": null,
    "metadata": null,
    "minTlsCipherSuite": null,
    "minTlsVersion": null,
    "minimumElasticInstanceCount": 0,
    "netFrameworkVersion": null,
    "nodeVersion": null,
    "numberOfWorkers": 1,
    "phpVersion": null,
    "powerShellVersion": null,
    "preWarmedInstanceCount": null,
    "publicNetworkAccess": null,
    "publishingPassword": null,
    "publishingUsername": null,
    "push": null,
    "pythonVersion": null,
    "remoteDebuggingEnabled": null,
    "remoteDebuggingVersion": null,
    "requestTracingEnabled": null,
    "requestTracingExpirationTime": null,
    "routingRules": null,
    "runtimeADUser": null,
    "runtimeADUserPassword": null,
    "sandboxType": null,
    "scmIpSecurityRestrictions": [
      {
        "action": "Allow",
        "description": "Allow all access",
        "headers": null,
        "ipAddress": "Any",
        "name": "Allow all",
        "priority": 2147483647,
        "subnetMask": null,
        "subnetTrafficTag": null,
        "tag": null,
        "vnetSubnetResourceId": null,
        "vnetTrafficTag": null
      }
    ],
    "scmIpSecurityRestrictionsDefaultAction": null,
    "scmIpSecurityRestrictionsUseMain": null,
    "scmMinTlsCipherSuite": null,
    "scmMinTlsVersion": null,
    "scmSupportedTlsCipherSuites": null,
    "scmType": null,
    "sitePort": null,
    "sitePrivateLinkHostEnabled": null,
    "storageType": null,
    "supportedTlsCipherSuites": null,
    "tracingOptions": null,
    "use32BitWorkerProcess": null,
    "virtualApplications": null,
    "vnetName": null,
    "vnetPrivatePortsCount": null,
    "vnetRouteAllEnabled": null,
    "webSocketsEnabled": null,
    "websiteTimeZone": null,
    "winAuthAdminState": null,
    "winAuthTenantState": null,
    "windowsConfiguredStacks": null,
    "windowsFxVersion": null,
    "xManagedServiceIdentityId": null
  },
  "slotSwapStatus": null,
  "state": "Running",
  "storageAccountRequired": false,
  "suspendedTill": null,
  "tags": null,
  "targetSwapSlot": null,
  "trafficManagerHostNames": null,
  "type": "Microsoft.Web/sites",
  "usageState": "Normal",
  "virtualNetworkSubnetId": null,
  "vnetContentShareEnabled": false,
  "vnetImagePullEnabled": false,
  "vnetRouteAllEnabled": false,
  "workloadProfileName": null
}
[2025-07-01 05:48:10] ‚úÖ Web App —Å—Ç–≤–æ—Ä–µ–Ω–æ
[2025-07-01 05:48:10] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: djstore1751348856
(SubscriptionNotFound) Subscription 826d896f-b844-48c3-998e-c8e36c27e681 was not found.
Code: SubscriptionNotFound
Message: Subscription 826d896f-b844-48c3-998e-c8e36c27e681 was not found.
[WARNING] –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ Storage Account. –ü—Ä–æ–¥–æ–≤–∂—É—î–º–æ –±–µ–∑ –Ω—å–æ–≥–æ...
[
  {
    "name": "DJANGO_SETTINGS_MODULE",
    "slotSetting": false,
    "value": null
  },
  {
    "name": "PYTHONPATH",
    "slotSetting": false,
    "value": null
  },
  {
    "name": "SCM_DO_BUILD_DURING_DEPLOYMENT",
    "slotSetting": false,
    "value": null
  },
  {
    "name": "DEBUG",
    "slotSetting": false,
    "value": null
  },
  {
    "name": "ALLOWED_HOSTS",
    "slotSetting": false,
    "value": null
  }
]

==================================
üéì STUDENT DEPLOYMENT –ì–û–¢–û–í–ò–ô!
==================================
Resource Group: django-portfolio-dev-rg
App Service Plan: django-portfolio-plan (F1 - Free)
Web App: django-portfolio-web-1751348856
Web App URL: https://django-portfolio-web-1751348856.azurewebsites.net
Storage Account: djstore1751348856

–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É:
1. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
   az webapp deployment source config --name django-portfolio-web-1751348856 --resource-group django-portfolio-dev-rg --repo-url https://github.com/YOUR_USERNAME/YOUR_REPO --branch main

2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:
   az webapp deployment source config-zip --src portfolio.zip --name django-portfolio-web-1751348856 --resource-group django-portfolio-dev-rg

3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏:
   az webapp log tail --name django-portfolio-web-1751348856 --resource-group django-portfolio-dev-rg

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É:
   az webapp restart --name django-portfolio-web-1751348856 --resource-group django-portfolio-dev-rg
==================================
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```

# üéâ –í—ñ–¥–º—ñ–Ω–Ω–æ! Azure —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–≤–æ—Ä–µ–Ω–∞ —É—Å–ø—ñ—à–Ω–æ!

## –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É ‚úÖ

–í–∞—à Django –¥–æ–¥–∞—Ç–æ–∫ –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –∑ —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

### –°—Ç–≤–æ—Ä–µ–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏:
- **Resource Group:** `django-portfolio-dev-rg`
- **App Service Plan:** `django-portfolio-plan` (F1 - Free tier)
- **Web App:** `django-portfolio-web-1751348856`
- **URL:** https://django-portfolio-web-1751348856.azurewebsites.net

### –û–±–º–µ–∂–µ–Ω–Ω—è:
- Storage Account –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–æ—ó –ø—ñ–¥–ø–∏—Å–∫–∏
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ –±–∞–∑–æ–≤—ñ

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç—É Django

–°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à Django –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤–∏–π:

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å requirements.txt —è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î
pip freeze > requirements.txt

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É
ls -la
```

### 2. –í–∞—Ä—ñ–∞–Ω—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É

#### –í–∞—Ä—ñ–∞–Ω—Ç A: GitHub –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π)

```bash
# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
az webapp deployment source config \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --repo-url https://github.com/VitaliiShevchuk2023/portfolio-django-azure \
    --branch main \
    --manual-integration
```

#### –í–∞—Ä—ñ–∞–Ω—Ç B: ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å ZIP –∞—Ä—Ö—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É
zip -r portfolio.zip . -x "*.git*" "*__pycache__*" "*.pyc" "venv/*"

# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–æ–µ–∫—Ç
az webapp deployment source config-zip \
    --src portfolio.zip \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django –¥–ª—è Azure

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `startup.sh` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:### 4. –û–Ω–æ–≤—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django

–î–æ–¥–∞–π—Ç–µ –¥–æ `settings.py`:### 5. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤–µ–±-–∞–ø–ª—ñ–∫–∞—Ü—ñ—ó

```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è startup –∫–æ–º–∞–Ω–¥–∏
az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --startup-file "startup.sh"

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python runtime
az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --linux-fx-version "PYTHON|3.11"
```

### 6. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
az webapp log tail \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É
az webapp restart \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg

# –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç—É—Å—É
az webapp show \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --query "state"
```

## –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó —Ä–æ–±–æ—Ç–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
az resource list --resource-group django-portfolio-dev-rg --output table

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è URL –¥–æ–¥–∞—Ç–∫—É
az webapp show \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --query "defaultHostName" --output tsv

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è custom domain (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏)
az webapp config hostname add \
    --webapp-name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --hostname yourdomain.com
```

–ì–æ—Ç–æ–≤—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç? –Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç (GitHub —á–∏ ZIP) –≤–∞–º –±—ñ–ª—å—à–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å?


```bash
VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az webapp deployment source config \
>     --name django-portfolio-web-1751348856 \
>     --resource-group django-portfolio-dev-rg \
>     --repo-url https://github.com/VitaliiShevchuk2023/portfolio-django-azure \
>     --branch main \
>     --manual-integration
location is not a known attribute of class <class 'azure.mgmt.web.v2023_12_01.models._models_py3.SiteSourceControl'> and will be ignored
Repository 'UpdateSiteSourceControl' operation failed with System.TimeoutException: Operation GET https://waws-prod-am2-601.api.azurewebsites.windows.net/api/sshkey?ensurePublicKey=True exceeded 50000ms timeout!
   at Microsoft.Web.Hosting.Administration.Utilities.WebRequestHelper.<GetResponseAsyncWithTimeout>d__10.MoveNext() in /_/src/hosting/AdministrationService/Microsoft.Web.Hosting.Administration.WebCommon/Utilities/WebRequestHelper.cs:line 40
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.Administration.SiteRepositoryProvider.TrackerContext.<GetResponseAsync>d__41.MoveNext() in /_/src/hosting/AdministrationService/Microsoft.Web.Hosting.Administration.WebCommon/Providers/SiteRepositoryProvider.cs:line 800
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.Administration.SiteRepositoryProvider.<GetSSHKey>d__29.MoveNext() in /_/src/hosting/AdministrationService/Microsoft.Web.Hosting.Administration.WebCommon/Providers/SiteRepositoryProvider.cs:line 320
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.Administration.ExternalSiteRepositoryProvider.<EnsureSSHKey>d__8.MoveNext() in /_/src/hosting/AdministrationService/Microsoft.Web.Hosting.Administration.WebCommon/Providers/ExternalSiteRepositoryProvider.cs:line 113
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.Administration.ExternalSiteRepositoryProvider.<UpdateSiteSourceControl>d__5.MoveNext() in /_/src/hosting/AdministrationService/Microsoft.Web.Hosting.Administration.WebCommon/Providers/ExternalSiteRepositoryProvider.cs:line 53
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.Administration.WebCloudController.<>c__DisplayClass384_1.<<UpdateSiteSourceControl>b__1>d.MoveNext() in /_/src/Hosting/AdministrationService/Microsoft.Web.Hosting.Administration/Controllers/WebCloudController.cs:line 11388
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.Web.Hosting.AsyncHelper.RunSync[TResult](Func`1 func) in /_/src/Hosting/Microsoft.Web.Hosting/Utilities/AsyncHelper.cs:line 27
   at Microsoft.Web.Hosting.Administration.WebCloudController.UpdateSiteSourceControl(String subscriptionName, String webspaceName, String name, SiteSourceControl siteSourceControl) in /_/src/Hosting/AdministrationService/Microsoft.Web.Hosting.Administration/Controllers/WebCloudController.cs:line 11383.
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```

## –ü—Ä–æ–±–ª–µ–º–∞ –∑ GitHub —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é ‚ö†Ô∏è

–°—Ö–æ–∂–µ –Ω–∞ timeout –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ SSH –∫–ª—é—á –¥–ª—è GitHub —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó. –°–ø—Ä–æ–±—É—î–º–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É.

## –í–∞—Ä—ñ–∞–Ω—Ç 1: ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π)

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å ZIP –∞—Ä—Ö—ñ–≤ –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É
zip -r portfolio.zip . -x "*.git*" "*__pycache__*" "*.pyc" "venv/*" "node_modules/*"

# –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ ZIP
az webapp deployment source config-zip \
    --src portfolio.zip \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg
```

## –í–∞—Ä—ñ–∞–Ω—Ç 2: GitHub Actions (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.github/workflows/azure-deploy.yml`:## –í–∞—Ä—ñ–∞–Ω—Ç 3: –õ–æ–∫–∞–ª—å–Ω–∏–π Git –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç

```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –¥–ª—è –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
az webapp deployment source config-local-git \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg

# –û—Ç—Ä–∏–º–∞–π—Ç–µ URL –¥–ª—è Git –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
GIT_URL=$(az webapp deployment source show \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --query "repoUrl" --output tsv)

echo "Git URL: $GIT_URL"
```

## –í–∞—Ä—ñ–∞–Ω—Ç 4: FTP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç

```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è FTP credentials
az webapp deployment list-publishing-credentials \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --query "{ftpUrl:scmUri, username:publishingUserName, password:publishingPassword}"
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

### –°–ø—Ä–æ–±—É–π—Ç–µ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª—ñ–≤
ls -la

# –°—Ç–≤–æ—Ä—ñ—Ç—å ZIP (–≤–∏–∫–ª—é—á–∞—é—á–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ñ–∞–π–ª–∏)
zip -r portfolio.zip . \
    -x "*.git*" \
    -x "*__pycache__*" \
    -x "*.pyc" \
    -x "venv/*" \
    -x "env/*" \
    -x "node_modules/*" \
    -x ".vscode/*"

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–º—ñ—Ä ZIP —Ñ–∞–π–ª—É
ls -lh portfolio.zip

# –î–µ–ø–ª–æ–π
az webapp deployment source config-zip \
    --src portfolio.zip \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg
```

### –¢–∞–∫–æ–∂ –ø—ñ–¥–≥–æ—Ç—É–π—Ç–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏:### –°–ø—Ä–æ–±—É–π—Ç–µ —Å–ø–æ—á–∞—Ç–∫—É ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç - —Ü–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î!

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—ñ–≤ –ø—Ä–∏ –ø—É—à–∞—Ö —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.

–ì–æ—Ç–æ–≤—ñ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç?



# –ü–æ–º–∏–ª–∫–∞ –∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é –≤ GitHub Actions üîê

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ GitHub Actions –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ Azure –±–µ–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –û—Å—å –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è:

## –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Publish Profile (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π)

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞–π—Ç–µ Publish Profile

```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ publish profile
az webapp deployment list-publishing-profiles \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --xml
```

### –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ GitHub

1. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å XML –≤–∏–≤—ñ–¥ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –∫–æ–º–∞–Ω–¥–∏
2. –ô–¥—ñ—Ç—å –Ω–∞ GitHub: **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New repository secret**
4. –ù–∞–∑–≤–∞: `AZURE_WEBAPP_PUBLISH_PROFILE`
5. –í—Å—Ç–∞–≤—Ç–µ XML –∫–æ–Ω—Ç–µ–Ω—Ç

## –í–∞—Ä—ñ–∞–Ω—Ç 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Service Principal

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Service Principal:

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Service Principal
az ad sp create-for-rbac \
    --name "django-portfolio-sp" \
    --role contributor \
    --scopes /subscriptions/826d896f-b844-48c3-998e-c8e36c27e681/resourceGroups/django-portfolio-dev-rg \
    --sdk-auth
```

### –î–æ–¥–∞–π—Ç–µ –æ—Ç—Ä–∏–º–∞–Ω–∏–π JSON —è–∫ —Å–µ–∫—Ä–µ—Ç `AZURE_CREDENTIALS`

## –í–∞—Ä—ñ–∞–Ω—Ç 3: –û–Ω–æ–≤–ª–µ–Ω–∏–π GitHub Actions workflow## –í–∞—Ä—ñ–∞–Ω—Ç 4: –ü—Ä–æ—Å—Ç—ñ—à–∏–π workflow –±–µ–∑ Azure CLI## –®–í–ò–î–ö–ï –†–Ü–®–ï–ù–ù–Ø: ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –∑–∞—Ä–∞–∑

–ü–æ–∫–∏ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç–µ GitHub Actions, —Å–ø—Ä–æ–±—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–∏–π –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å ZIP —Ñ–∞–π–ª
zip -r portfolio.zip . -x "*.git*" "*__pycache__*" "*.pyc" "venv/*"

# –î–µ–ø–ª–æ–π
az webapp deployment source config-zip \
    --src portfolio.zip \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg
```

## –ü–æ–∫—Ä–æ–∫–æ–≤—ñ –¥—ñ—ó:

### 1. –°–ø–æ—á–∞—Ç–∫—É –æ—Ç—Ä–∏–º–∞–π—Ç–µ publish profile:
```bash
az webapp deployment list-publishing-profiles \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --xml > publish-profile.xml

cat publish-profile.xml
```

### 2. –î–æ–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ GitHub:
- –ó–∞–π–¥—ñ—Ç—å —É –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub
- **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
- **New repository secret**
- –ù–∞–∑–≤–∞: `AZURE_WEBAPP_PUBLISH_PROFILE`
- –ó–Ω–∞—á–µ–Ω–Ω—è: –≤–µ—Å—å XML –∫–æ–Ω—Ç–µ–Ω—Ç

### 3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–∏–π workflow (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤–∏—â–µ)

### 4. –ê–±–æ —Å–ø—Ä–æ–±—É–π—Ç–µ ZIP –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑!

–©–æ —Ö–æ—á–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É?



```bash
name: Deploy Django to Azure

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'
    
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: Deploy to Azure Web App
      uses: azure/webapps-deploy@v2
      with:
        app-name: 'django-portfolio-web-1751348856'
        publish-profile: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}

```




```bash
VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az webapp log tail \
>     --name django-portfolio-web-1751348856 \
>     --resource-group django-portfolio-dev-rg
2025-07-01T07:19:11  Welcome, you are now connected to log-streaming service.
Starting Log Tail -n 10 of existing logs ----
/home/LogFiles/__lastCheckTime.txt  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/__lastCheckTime.txt)
07/01/2025 07:18:59
/home/LogFiles/kudu/trace/b2a312fca316-ad560e22-3984-43bf-950f-2d1f67f22788.txt  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/kudu/trace/b2a312fca316-ad560e22-3984-43bf-950f-2d1f67f22788.txt)
2025-07-01T07:19:11  Startup Request, url: /logstream, method: GET, type: request, pid: 768,1,5, ScmType: None, SCM_DO_BUILD_DURING_DEPLOYMENT: true
/home/LogFiles/kudu/trace/django-por-kudu-b26bc8c4-ab4ce692-a19e-4d9f-938b-76c81b0d2161.txt  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/kudu/trace/django-por-kudu-b26bc8c4-ab4ce692-a19e-4d9f-938b-76c81b0d2161.txt)
2025-07-01T07:02:02  Startup Request, url: /api/settings, method: GET, type: request, pid: 768,1,66, SCM_DO_BUILD_DURING_DEPLOYMENT: true, ScmType: None
/home/LogFiles/2025_07_01_10-30-0-107_default_docker.log  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/2025_07_01_10-30-0-107_default_docker.log)
2025-07-01T07:18:50.086454837Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-07-01T07:18:50.086460057Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-07-01T07:18:50.086465306Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-07-01T07:18:50.086470737Z   File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked

2025-07-01T07:18:50.086476047Z ModuleNotFoundError: No module named 'myproject'
2025-07-01T07:18:50.086488289Z [2025-07-01 07:18:50 +0000] [1011] [INFO] Worker exiting (pid: 1011)
2025-07-01T07:18:50.676208460Z [2025-07-01 07:18:50 +0000] [1008] [ERROR] Worker (pid:1011) exited with code 3
2025-07-01T07:18:50.679610296Z [2025-07-01 07:18:50 +0000] [1008] [ERROR] Shutting down: Master
2025-07-01T07:18:50.679624924Z [2025-07-01 07:18:50 +0000] [1008] [ERROR] Reason: Worker failed to boot.
/home/LogFiles/2025_07_01_10-30-0-107_docker.log  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/2025_07_01_10-30-0-107_docker.log)
2025-07-01T07:18:40.518Z INFO  -  Status: Image is up to date for 10.1.0.5:13209/appsvc/python:3.11_20250506.5.tuxprod
2025-07-01T07:18:40.538Z INFO  - Pull Image successful, Time taken: 0 Seconds
2025-07-01T07:18:40.634Z INFO  - Starting container for site
2025-07-01T07:18:40.635Z INFO  - docker run -d --expose=8000 --name django-portfolio-web-1751348856_0_6c25cfe7 -e WEBSITE_USE_DIAGNOSTIC_SERVER=false -e WEBSITE_SITE_NAME=django-portfolio-web-1751348856 -e WEBSITE_AUTH_ENABLED=False -e WEBSITE_ROLE_INSTANCE_ID=0 -e WEBSITE_HOSTNAME=django-portfolio-web-1751348856.azurewebsites.net -e WEBSITE_INSTANCE_ID=b47714df06fcf6a96ddfba3a284a2c5a08964eca8515ab3ca08cef25436c95a0 appsvc/python:3.11_20250506.5.tuxprod 
2025-07-01T07:18:40.637Z INFO  - Logging is not enabled for this container.
Please use https://aka.ms/linux-diagnostics to enable logging to see container logs here.
2025-07-01T07:18:42.268Z INFO  - Initiating warmup request to container django-portfolio-web-1751348856_0_6c25cfe7 for site django-portfolio-web-1751348856
2025-07-01T07:18:51.717Z ERROR - Container django-portfolio-web-1751348856_0_6c25cfe7 for site django-portfolio-web-1751348856 has exited, failing site start
2025-07-01T07:18:52.261Z ERROR - Container django-portfolio-web-1751348856_0_6c25cfe7 didn't respond to HTTP pings on port: 8000. Failing site start. See container logs for debugging.
2025-07-01T07:18:52.324Z INFO  - Stopping site django-portfolio-web-1751348856 because it failed during startup.
/home/LogFiles/AppServiceAppLogs_Feature_Installer/startup_0.log  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/AppServiceAppLogs_Feature_Installer/startup_0.log)
2025-07-01 07:12:06,874  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
2025-07-01 07:13:08,162  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:13:08,164  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:13:08,165  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
2025-07-01 07:16:29,999  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:16:30,001  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:16:30,002  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
2025-07-01 07:18:48,311  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:18:48,313  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:18:48,314  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
/home/LogFiles/AppServiceAppLogs_Feature_Installer/startup_7.log  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/AppServiceAppLogs_Feature_Installer/startup_7.log)
2025-07-01 05:49:36,486  [Thread-3 (] [DEBUG] : Waiting for the logs flag to be set
2025-07-01 07:03:59,021  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:03:59,025  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:03:59,026  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
2025-07-01 07:10:17,176  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:10:17,178  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:10:17,179  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
2025-07-01 07:16:09,801  [MainThread] [DEBUG] : Initializating AppServiceAppLogging 
2025-07-01 07:16:09,803  [Thread-1 (] [DEBUG] : Did not find any previously bound socket
2025-07-01 07:16:09,803  [MainThread] [DEBUG] : Initialized AppServiceAppLogging
/home/LogFiles/CodeProfiler/b47714_debug.log  (https://django-portfolio-web-1751348856.scm.azurewebsites.net/api/vfs/LogFiles/CodeProfiler/b47714_debug.log)
[2025_07_01_05_49_36] [appsvc_profiler.installer] [INFO] Code Profiler Installer is starting up
[2025_07_01_05_49_36] [appsvc_profiler.installer] [INFO] Cleaning up any existing status file which indicated signal handlers initialized status
[2025_07_01_05_49_36] [appsvc_profiler.installer] [DEBUG] APPSETTING_WEBSITE_ENABLE_DEFAULT_CODE_PROFILER : None
[2025_07_01_05_49_36] [appsvc_profiler.installer] [INFO] Attempting to install the default code profiler.
[2025_07_01_05_49_36] [appsvc_profiler.installer] [DEBUG] viztracer would save traces to /tmp/b47714_profiler_trace.json
[2025_07_01_05_49_36] [appsvc_profiler.installer] [INFO] Successfully installed code profiler.
[2025_07_01_05_49_36] [appsvc_profiler.installer] [INFO] Signal Handlers SIGUSR for needed code-profiler have been initialized for gunicorn process on instance b47714df06fcf6a96ddfba3a284a2c5a08964eca8515ab3ca08cef25436c95a0
[2025_07_01_05_49_36] [appsvc_profiler.installer] [DEBUG] Code Profiler Installer is exiting as installation is completed
Ending Log Tail of existing logs ---
Starting Live Log Stream ---
2025-07-01T07:20:11  No new trace in the past 1 min(s).
2025-07-01T07:21:11  No new trace in the past 2 min(s).
2025-07-01T07:22:11  No new trace in the past 3 min(s).
2025-07-01T07:23:11  No new trace in the past 4 min(s).
2025-07-01T07:24:11  No new trace in the past 5 min(s).
2025-07-01T07:25:11  No new trace in the past 6 min(s).
```

# –ó–Ω–∞–π—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É! üîç

## –û—Å–Ω–æ–≤–Ω–∞ –ø–æ–º–∏–ª–∫–∞:
```
ModuleNotFoundError: No module named 'myproject'
```

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ Gunicorn –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–Ω–∞–π—Ç–∏ –º–æ–¥—É–ª—å `myproject.wsgi`, –∞–ª–µ –≤–∞—à Django –ø—Ä–æ–µ–∫—Ç –º–∞—î —ñ–Ω—à—É –Ω–∞–∑–≤—É.

## –†—ñ—à–µ–Ω–Ω—è

### 1. –ó'—è—Å—É—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –Ω–∞–∑–≤—É –≤–∞—à–æ–≥–æ Django –ø—Ä–æ–µ–∫—Ç—É:

```bash
# –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É
ls -la

# –ó–Ω–∞–π–¥—ñ—Ç—å —Ñ–∞–π–ª wsgi.py
find . -name "wsgi.py" -type f

# –ê–±–æ –ø–æ–¥–∏–≤—ñ—Ç—å—Å—è manage.py
cat manage.py | grep DJANGO_SETTINGS_MODULE
```

### 2. –ü—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∑–Ω–∞–π–¥–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É –Ω–∞–∑–≤—É, –æ–Ω–æ–≤—ñ—Ç—å startup –∫–æ–º–∞–Ω–¥—É:

```bash
# –ó–∞–º—ñ–Ω—ñ—Ç—å 'myproject' –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É –Ω–∞–∑–≤—É –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É
# –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è 'portfolio' –∞–±–æ 'core':

az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --startup-file "gunicorn --bind=0.0.0.0:8000 --timeout 600 –í–ê–®–ê–ù–ê–ó–í–ê–ü–†–û–ï–ö–¢–£.wsgi:application"
```

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, —Å–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è:

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Django's manage.py –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫—É
az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --startup-file "python manage.py runserver 0.0.0.0:8000"
```

### 4. –ê–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å startup.sh —Ñ–∞–π–ª:## –®–≤–∏–¥–∫–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

### –°–ø–æ—á–∞—Ç–∫—É –∑'—è—Å—É–π—Ç–µ –Ω–∞–∑–≤—É –ø—Ä–æ–µ–∫—Ç—É:
```bash
ls -la
find . -name "wsgi.py"
```

### –ü–æ—Ç—ñ–º –æ–Ω–æ–≤—ñ—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –Ω–∞–∑–≤–æ—é:
```bash
# –ó–∞–º—ñ–Ω—ñ—Ç—å YOUR_PROJECT_NAME –Ω–∞ —Ä–µ–∞–ª—å–Ω—É –Ω–∞–∑–≤—É
az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --startup-file "gunicorn --bind=0.0.0.0:8000 YOUR_PROJECT_NAME.wsgi:application"
```

### –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Django runserver –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É:
```bash
az webapp config set \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg \
    --startup-file "python manage.py runserver 0.0.0.0:8000"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫:
```bash
az webapp restart \
    --name django-portfolio-web-1751348856 \
    --resource-group django-portfolio-dev-rg
```

–ü–æ–∫–∞–∂—ñ—Ç—å –º–µ–Ω—ñ –≤–∏–≤—ñ–¥ –∫–æ–º–∞–Ω–¥–∏ `ls -la` —Ç–∞ `find . -name "wsgi.py"`, —â–æ–± —è –º—ñ–≥ —Ç–æ—á–Ω–æ —Å–∫–∞–∑–∞—Ç–∏, —è–∫—É –Ω–∞–∑–≤—É –ø—Ä–æ–µ–∫—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏!




---------------------------------------------------------------------------------------------------------------

# –ü–æ–º–∏–ª–∫–∞ –∑ –Ω–∞–∑–≤–æ—é Storage Account ‚ùå

–ü—Ä–æ–±–ª–µ–º–∞: –Ω–∞–∑–≤–∞ Storage Account –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∞ (36 —Å–∏–º–≤–æ–ª—ñ–≤) —ñ –º—ñ—Å—Ç–∏—Ç—å –¥–µ—Ñ—ñ—Å–∏. Azure –≤–∏–º–∞–≥–∞—î:
- **3-24 —Å–∏–º–≤–æ–ª–∏**
- **–¢—ñ–ª—å–∫–∏ —Ü–∏—Ñ—Ä–∏ —Ç–∞ –º–∞–ª—ñ –ª—ñ—Ç–µ—Ä–∏**
- **–ë–µ–∑ –¥–µ—Ñ—ñ—Å—ñ–≤ —Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤**

## –®–≤–∏–¥–∫–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –≤–∞—à `script_azure.sh` —Ñ–∞–π–ª:## –ê–±–æ —à–≤–∏–¥–∫–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä—è–º–æ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

```bash
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
nano script_azure.sh

# –ó–Ω–∞–π–¥—ñ—Ç—å —Ä—è–¥–æ–∫ –∑—ñ STORAGE_NAME —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞:
# STORAGE_NAME="djapp$(date +%s | tail -c 8)"
```

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ - –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º:## –®–≤–∏–¥–∫—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

### 1. –í–∏–ø—Ä–∞–≤—Ç–µ –Ω–∞–∑–≤—É –≤ —Å–∫—Ä–∏–ø—Ç—ñ:
```bash
# –ó–∞–º—ñ–Ω—ñ—Ç—å —Ä—è–¥–æ–∫ —É script_azure.sh
sed -i 's/STORAGE_NAME=.*/STORAGE_NAME="djapp$(date +%s | tail -c 8)"/' script_azure.sh
```

### 2. –ê–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å Storage Account –≤—Ä—É—á–Ω—É:
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –Ω–∞–∑–≤–æ—é
STORAGE_NAME="djapp$(date +%s | tail -c 8)"
echo "Storage name: $STORAGE_NAME"

az storage account create \
    --name "$STORAGE_NAME" \
    --resource-group "django-app-production-rg" \
    --location "westeurope" \
    --sku Standard_LRS
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–≤–∂–∏–Ω—É –Ω–∞–∑–≤–∏:
```bash
STORAGE_NAME="djapp$(date +%s | tail -c 8)"
echo "Storage name: $STORAGE_NAME (length: ${#STORAGE_NAME})"
```

–í–∏–±–µ—Ä—ñ—Ç—å –æ–¥–∏–Ω –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ —ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∑–Ω–æ–≤—É. Resource Group –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞, —Ç–æ–º—É –º–æ–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ Storage Account —ñ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏!

-------------------------------------------------------------------------------------------------------------------------------



```bash
^C@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 12:47:52] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 12:47:52] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 12:47:52] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 12:47:52] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 12:47:52] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-07-01 12:47:53] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-07-01 12:47:53] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
{
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg",
  "location": "westeurope",
  "managedBy": null,
  "name": "django-app-production-rg",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Resources/resourceGroups"
}
[2025-07-01 12:47:56] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: djapp1374072
{
  "accessTier": "Hot",
  "accountMigrationInProgress": null,
  "allowBlobPublicAccess": false,
  "allowCrossTenantReplication": false,
  "allowSharedKeyAccess": null,
  "allowedCopyScope": null,
  "azureFilesIdentityBasedAuthentication": null,
  "blobRestoreStatus": null,
  "creationTime": "2025-07-01T12:47:59.097030+00:00",
  "customDomain": null,
  "defaultToOAuthAuthentication": null,
  "dnsEndpointType": null,
  "enableExtendedGroups": null,
  "enableHttpsTrafficOnly": true,
  "enableNfsV3": null,
  "encryption": {
    "encryptionIdentity": null,
    "keySource": "Microsoft.Storage",
    "keyVaultProperties": null,
    "requireInfrastructureEncryption": null,
    "services": {
      "blob": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T12:47:59.362656+00:00"
      },
      "file": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T12:47:59.362656+00:00"
      },
      "queue": null,
      "table": null
    }
  },
  "extendedLocation": null,
  "failoverInProgress": null,
  "geoReplicationStats": null,
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.Storage/storageAccounts/djapp1374072",
  "identity": null,
  "immutableStorageWithVersioning": null,
  "isHnsEnabled": null,
  "isLocalUserEnabled": null,
  "isSftpEnabled": null,
  "isSkuConversionBlocked": null,
  "keyCreationTime": {
    "key1": "2025-07-01T12:47:59.362656+00:00",
    "key2": "2025-07-01T12:47:59.362656+00:00"
  },
  "keyPolicy": null,
  "kind": "StorageV2",
  "largeFileSharesState": null,
  "lastGeoFailoverTime": null,
  "location": "westeurope",
  "minimumTlsVersion": "TLS1_0",
  "name": "djapp1374072",
  "networkRuleSet": {
    "bypass": "AzureServices",
    "defaultAction": "Allow",
    "ipRules": [],
    "ipv6Rules": [],
    "resourceAccessRules": null,
    "virtualNetworkRules": []
  },
  "primaryEndpoints": {
    "blob": "https://djapp1374072.blob.core.windows.net/",
    "dfs": "https://djapp1374072.dfs.core.windows.net/",
    "file": "https://djapp1374072.file.core.windows.net/",
    "internetEndpoints": null,
    "microsoftEndpoints": null,
    "queue": "https://djapp1374072.queue.core.windows.net/",
    "table": "https://djapp1374072.table.core.windows.net/",
    "web": "https://djapp1374072.z6.web.core.windows.net/"
  },
  "primaryLocation": "westeurope",
  "privateEndpointConnections": [],
  "provisioningState": "Succeeded",
  "publicNetworkAccess": null,
  "resourceGroup": "django-app-production-rg",
  "routingPreference": null,
  "sasPolicy": null,
  "secondaryEndpoints": null,
  "secondaryLocation": null,
  "sku": {
    "name": "Standard_LRS",
    "tier": "Standard"
  },
  "statusOfPrimary": "available",
  "statusOfSecondary": null,
  "storageAccountSkuConversionStatus": null,
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Storage/storageAccounts"
}
{
  "created": false
}
{
  "created": false
}
[2025-07-01 12:48:22] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL —Å–µ—Ä–≤–µ—Ä–∞: django-app-production-db-1751374072
The default value of '--version' will be changed to '17' from '16' in next breaking change release(2.73.0) scheduled for May 2025.
The default value of '--create-default-database' will be changed to 'Disabled' from 'Enabled' in next breaking change release(2.73.0) scheduled for May 2025.
Update default value of "--sku-name" in next breaking change release(2.73.0) scheduled for May 2025. The default value will be changed from "Standard_D2s_v3" to a supported sku based on regional capabilities.
Checking the existence of the resource group 'django-app-production-rg'...
Resource group 'django-app-production-rg' exists ? : True 
Incorrect value for --sku-name. The SKU name does not exist in GeneralPurpose tier. When --tier is not specified, it defaults to GeneralPurpose. Provide a valid SKU name for this tier, or specify --tier with the right tier for the SKU name chosen. Allowed values : ['standard_d96ds_v5', 'standard_d64ds_v5', 'standard_d48ds_v5', 'standard_d32ds_v5', 'standard_d16ds_v5', 'standard_d8ds_v5', 'standard_d4ds_v5', 'standard_d2ds_v5', 'standard_d64ds_v4', 'standard_d48ds_v4', 'standard_d32ds_v4', 'standard_d16ds_v4', 'standard_d8ds_v4', 'standard_d4ds_v4', 'standard_d2ds_v4', 'standard_d64s_v3', 'standard_d48s_v3', 'standard_d32s_v3', 'standard_d16s_v3', 'standard_d8s_v3', 'standard_d4s_v3', 'standard_d2s_v3']
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```


# –ü—Ä–æ–≥—Ä–µ—Å! Storage Account —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ! ‚úÖ

## –°—Ç–∞–Ω –Ω–∞ –∑–∞—Ä–∞–∑:
- ‚úÖ **Resource Group:** `django-app-production-rg` - —Å—Ç–≤–æ—Ä–µ–Ω–æ
- ‚úÖ **Storage Account:** `djapp1374072` - —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ
- ‚ùå **PostgreSQL:** –ø–æ–º–∏–ª–∫–∞ –∑ SKU

## –ü—Ä–æ–±–ª–µ–º–∞ –∑ PostgreSQL

–ü–æ–º–∏–ª–∫–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –Ω–∞–∑–≤–∞ SKU –¥–ª—è PostgreSQL. –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–∞—Å—Ç–∞—Ä—ñ–ª—É –Ω–∞–∑–≤—É SKU.

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ —Å–∫—Ä–∏–ø—Ç—ñ:## –®–≤–∏–¥–∫—ñ —Å–ø–æ—Å–æ–±–∏ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏:

### 1. –†—É—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º SKU:

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –∑ –≤–∞—à–æ–≥–æ —Å–∫—Ä–∏–ø—Ç—É
DB_SERVER_NAME="django-app-production-db-1751374072"
DB_ADMIN_USER="djangoadmin"
DB_ADMIN_PASSWORD="ComplexPass123!"
RG_NAME="django-app-production-rg"
LOCATION="westeurope"

# –°—Ç–≤–æ—Ä—ñ—Ç—å PostgreSQL –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º SKU
az postgres flexible-server create \
    --name "$DB_SERVER_NAME" \
    --resource-group "$RG_NAME" \
    --location "$LOCATION" \
    --admin-user "$DB_ADMIN_USER" \
    --admin-password "$DB_ADMIN_PASSWORD" \
    --sku-name "Standard_D2ds_v4" \
    --tier "GeneralPurpose" \
    --version "16" \
    --storage-size 32 \
    --public-network-access Enabled
```

### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –Ω–∞–π–¥–µ—à–µ–≤—à–∏–π SKU:

```bash
# –î–ª—è dev/testing - –Ω–∞–π–º–µ–Ω—à–∏–π —Ä–æ–∑–º—ñ—Ä
az postgres flexible-server create \
    --name "$DB_SERVER_NAME" \
    --resource-group "$RG_NAME" \
    --location "$LOCATION" \
    --admin-user "$DB_ADMIN_USER" \
    --admin-password "$DB_ADMIN_PASSWORD" \
    --sku-name "Standard_B1ms" \
    --tier "Burstable" \
    --version "16" \
    --storage-size 32
```

### 3. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ —Å–∫—Ä–∏–ø—Ç—ñ:

```bash
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ script_azure.sh
nano script_azure.sh

# –ó–Ω–∞–π–¥—ñ—Ç—å —Ä—è–¥–æ–∫ –∑ --sku-name —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞:
# --sku-name "Standard_D2ds_v4" \
# --tier "GeneralPurpose" \
```

### 4. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É:

```bash
# –û—Å–∫—ñ–ª—å–∫–∏ RG —ñ Storage –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ, –º–æ–∂–Ω–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑ PostgreSQL
# –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ —Å—Ç–≤–æ—Ä—ñ—Ç—å –ë–î:

export DB_SERVER_NAME="django-app-production-db-$(date +%s)"
export DB_ADMIN_USER="djangoadmin"
export DB_ADMIN_PASSWORD="ComplexPass123!"

az postgres flexible-server create \
    --name "$DB_SERVER_NAME" \
    --resource-group "django-app-production-rg" \
    --location "westeurope" \
    --admin-user "$DB_ADMIN_USER" \
    --admin-password "$DB_ADMIN_PASSWORD" \
    --sku-name "Standard_D2ds_v4" \
    --tier "GeneralPurpose"
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö SKU:

```bash
# –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω—ñ SKU –¥–ª—è PostgreSQL
az postgres flexible-server list-skus --location westeurope --output table
```

–Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –≤–∏–±–µ—Ä–µ—Ç–µ? –†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–ø–æ—á–∞—Ç–∫—É —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Ä—É—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º SKU, –∞ –ø–æ—Ç—ñ–º –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∑—ñ —Å–∫—Ä–∏–ø—Ç–æ–º!



```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ az postgres flexible-server list-skus --location westeurope --output table
For prices please refer to https://aka.ms/postgres-pricing
SKU                Tier             VCore    Memory    Max Disk IOPS
-----------------  ---------------  -------  --------  ---------------
Standard_B1ms      Burstable        1        2 GiB     640
Standard_B2s       Burstable        2        4 GiB     1280
Standard_B2ms      Burstable        2        8 GiB     1920
Standard_B4ms      Burstable        4        16 GiB    2880
Standard_B8ms      Burstable        8        32 GiB    4320
Standard_B12ms     Burstable        12       48 GiB    4320
Standard_B16ms     Burstable        16       64 GiB    4320
Standard_B20ms     Burstable        20       80 GiB    4320
Standard_D2s_v3    GeneralPurpose   2        8 GiB     3200
Standard_D4s_v3    GeneralPurpose   4        16 GiB    6400
Standard_D8s_v3    GeneralPurpose   8        32 GiB    12800
Standard_D16s_v3   GeneralPurpose   16       64 GiB    25600
Standard_D32s_v3   GeneralPurpose   32       128 GiB   51200
Standard_D48s_v3   GeneralPurpose   48       192 GiB   76800
Standard_D64s_v3   GeneralPurpose   64       256 GiB   80000
Standard_D2ds_v4   GeneralPurpose   2        8 GiB     3200
Standard_D4ds_v4   GeneralPurpose   4        16 GiB    6400
Standard_D8ds_v4   GeneralPurpose   8        32 GiB    12800
Standard_D16ds_v4  GeneralPurpose   16       64 GiB    25600
Standard_D32ds_v4  GeneralPurpose   32       128 GiB   51200
Standard_D48ds_v4  GeneralPurpose   48       192 GiB   76800
Standard_D64ds_v4  GeneralPurpose   64       256 GiB   80000
Standard_D2ds_v5   GeneralPurpose   2        8 GiB     3750
Standard_D4ds_v5   GeneralPurpose   4        16 GiB    6400
Standard_D8ds_v5   GeneralPurpose   8        32 GiB    12800
Standard_D16ds_v5  GeneralPurpose   16       64 GiB    25600
Standard_D32ds_v5  GeneralPurpose   32       128 GiB   51200
Standard_D48ds_v5  GeneralPurpose   48       192 GiB   76800
Standard_D64ds_v5  GeneralPurpose   64       256 GiB   80000
Standard_D96ds_v5  GeneralPurpose   96       384 GiB   80000
Standard_E2s_v3    MemoryOptimized  2        16 GiB    3200
Standard_E4s_v3    MemoryOptimized  4        32 GiB    6400
Standard_E8s_v3    MemoryOptimized  8        64 GiB    12800
Standard_E16s_v3   MemoryOptimized  16       128 GiB   25600
Standard_E32s_v3   MemoryOptimized  32       256 GiB   32000
Standard_E48s_v3   MemoryOptimized  48       384 GiB   51200
Standard_E64s_v3   MemoryOptimized  64       432 GiB   76800
Standard_E2ds_v4   MemoryOptimized  2        16 GiB    3200
Standard_E4ds_v4   MemoryOptimized  4        32 GiB    6400
Standard_E8ds_v4   MemoryOptimized  8        64 GiB    12800
Standard_E16ds_v4  MemoryOptimized  16       128 GiB   25600
Standard_E20ds_v4  MemoryOptimized  20       160 GiB   32000
Standard_E32ds_v4  MemoryOptimized  32       256 GiB   51200
Standard_E48ds_v4  MemoryOptimized  48       384 GiB   76800
Standard_E64ds_v4  MemoryOptimized  64       432 GiB   80000
Standard_E2ds_v5   MemoryOptimized  2        16 GiB    3750
Standard_E4ds_v5   MemoryOptimized  4        32 GiB    6400
Standard_E8ds_v5   MemoryOptimized  8        64 GiB    12800
Standard_E16ds_v5  MemoryOptimized  16       128 GiB   25600
Standard_E20ds_v5  MemoryOptimized  20       160 GiB   32000
Standard_E32ds_v5  MemoryOptimized  32       256 GiB   51200
Standard_E48ds_v5  MemoryOptimized  48       384 GiB   76800
Standard_E64ds_v5  MemoryOptimized  64       512 GiB   80000
Standard_E96ds_v5  MemoryOptimized  96       672 GiB   80000
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```


```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 16:28:56] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 16:28:56] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 16:28:56] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 16:28:56] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 16:28:56] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-07-01 16:28:56] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-07-01 16:28:56] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
{
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg",
  "location": "westeurope",
  "managedBy": null,
  "name": "django-app-production-rg",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Resources/resourceGroups"
}
[2025-07-01 16:28:59] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: djapp1387336
{
  "accessTier": "Hot",
  "accountMigrationInProgress": null,
  "allowBlobPublicAccess": false,
  "allowCrossTenantReplication": false,
  "allowSharedKeyAccess": null,
  "allowedCopyScope": null,
  "azureFilesIdentityBasedAuthentication": null,
  "blobRestoreStatus": null,
  "creationTime": "2025-07-01T16:29:02.530377+00:00",
  "customDomain": null,
  "defaultToOAuthAuthentication": null,
  "dnsEndpointType": null,
  "enableExtendedGroups": null,
  "enableHttpsTrafficOnly": true,
  "enableNfsV3": null,
  "encryption": {
    "encryptionIdentity": null,
    "keySource": "Microsoft.Storage",
    "keyVaultProperties": null,
    "requireInfrastructureEncryption": null,
    "services": {
      "blob": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T16:29:02.795973+00:00"
      },
      "file": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T16:29:02.795973+00:00"
      },
      "queue": null,
      "table": null
    }
  },
  "extendedLocation": null,
  "failoverInProgress": null,
  "geoReplicationStats": null,
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.Storage/storageAccounts/djapp1387336",
  "identity": null,
  "immutableStorageWithVersioning": null,
  "isHnsEnabled": null,
  "isLocalUserEnabled": null,
  "isSftpEnabled": null,
  "isSkuConversionBlocked": null,
  "keyCreationTime": {
    "key1": "2025-07-01T16:29:02.780349+00:00",
    "key2": "2025-07-01T16:29:02.780349+00:00"
  },
  "keyPolicy": null,
  "kind": "StorageV2",
  "largeFileSharesState": null,
  "lastGeoFailoverTime": null,
  "location": "westeurope",
  "minimumTlsVersion": "TLS1_0",
  "name": "djapp1387336",
  "networkRuleSet": {
    "bypass": "AzureServices",
    "defaultAction": "Allow",
    "ipRules": [],
    "ipv6Rules": [],
    "resourceAccessRules": null,
    "virtualNetworkRules": []
  },
  "primaryEndpoints": {
    "blob": "https://djapp1387336.blob.core.windows.net/",
    "dfs": "https://djapp1387336.dfs.core.windows.net/",
    "file": "https://djapp1387336.file.core.windows.net/",
    "internetEndpoints": null,
    "microsoftEndpoints": null,
    "queue": "https://djapp1387336.queue.core.windows.net/",
    "table": "https://djapp1387336.table.core.windows.net/",
    "web": "https://djapp1387336.z6.web.core.windows.net/"
  },
  "primaryLocation": "westeurope",
  "privateEndpointConnections": [],
  "provisioningState": "Succeeded",
  "publicNetworkAccess": null,
  "resourceGroup": "django-app-production-rg",
  "routingPreference": null,
  "sasPolicy": null,
  "secondaryEndpoints": null,
  "secondaryLocation": null,
  "sku": {
    "name": "Standard_LRS",
    "tier": "Standard"
  },
  "statusOfPrimary": "available",
  "statusOfSecondary": null,
  "storageAccountSkuConversionStatus": null,
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Storage/storageAccounts"
}
{
  "created": false
}
{
  "created": false
}
[2025-07-01 16:29:25] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL —Å–µ—Ä–≤–µ—Ä–∞: django-app-production-db-1751387336
The default value of '--version' will be changed to '17' from '16' in next breaking change release(2.73.0) scheduled for May 2025.
The default value of '--create-default-database' will be changed to 'Disabled' from 'Enabled' in next breaking change release(2.73.0) scheduled for May 2025.
Update default value of "--sku-name" in next breaking change release(2.73.0) scheduled for May 2025. The default value will be changed from "Standard_D2s_v3" to a supported sku based on regional capabilities.
Checking the existence of the resource group 'django-app-production-rg'...
Resource group 'django-app-production-rg' exists ? : True 
The default value for the PostgreSQL server major version will be updating to 17 in the near future.
Creating PostgreSQL Server 'django-app-production-db-1751387336' in group 'django-app-production-rg'...
Your server 'django-app-production-db-1751387336' is using sku 'Standard_D2ds_v4' (Paid Tier). Please refer to https://aka.ms/postgres-pricing for pricing details
Configuring server firewall rule, 'azure-access', to accept connections from all Azure resources...
Creating PostgreSQL database 'flexibleserverdb'...
Make a note of your password. If you forget, you would have to reset your password with "az postgres flexible-server update -n django-app-production-db-1751387336 -g django-app-production-rg -p <new-password>".
Try using 'az postgres flexible-server connect' command to test out connection.
{
  "connectionString": "postgresql://djangoadmin:eGwSA1oIVcwLGiKmAa1!@django-app-production-db-1751387336.postgres.database.azure.com/flexibleserverdb?sslmode=require",
  "databaseName": "flexibleserverdb",
  "firewallName": "AllowAllAzureServicesAndResourcesWithinAzureIps_2025-7-1_16-33-32",
  "host": "django-app-production-db-1751387336.postgres.database.azure.com",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751387336",
  "location": "West Europe",
  "password": "eGwSA1oIVcwLGiKmAa1!",
  "resourceGroup": "django-app-production-rg",
  "skuname": "Standard_D2ds_v4",
  "username": "djangoadmin",
  "version": "14"
}
[2025-07-01 16:34:46] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö: django-app_db
Creating database with utf8 charset and en_US.utf8 collation
{
  "charset": "UTF8",
  "collation": "en_US.utf8",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751387336/databases/django-app_db",
  "name": "django-app_db",
  "resourceGroup": "django-app-production-rg",
  "systemData": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers/databases"
}
[2025-07-01 16:35:00] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è firewall –ø—Ä–∞–≤–∏–ª –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
{
  "endIpAddress": "0.0.0.0",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751387336/firewallRules/AllowAzureServices",
  "name": "AllowAzureServices",
  "resourceGroup": "django-app-production-rg",
  "startIpAddress": "0.0.0.0",
  "systemData": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers/firewallRules"
}
[2025-07-01 16:36:02] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Key Vault: django-app-production-kv-1751387336
(VaultNameNotValid) The vault name 'django-app-production-kv-1751387336' is invalid. A vault's name must be between 3-24 alphanumeric characters. The name must begin with a letter, end with a letter or digit, and not contain consecutive hyphens. Follow this link for more information: https://go.microsoft.com/fwlink/?linkid=2147742
Code: VaultNameNotValid
Message: The vault name 'django-app-production-kv-1751387336' is invalid. A vault's name must be between 3-24 alphanumeric characters. The name must begin with a letter, end with a letter or digit, and not contain consecutive hyphens. Follow this link for more information: https://go.microsoft.com/fwlink/?linkid=2147742
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```

# –í—ñ–¥–º—ñ–Ω–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å! üéâ

## –°—Ç–∞–Ω –Ω–∞ –∑–∞—Ä–∞–∑:
- ‚úÖ **Resource Group:** `django-app-production-rg` - —Å—Ç–≤–æ—Ä–µ–Ω–æ
- ‚úÖ **Storage Account:** `djapp1387336` - —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ **PostgreSQL Server:** `django-app-production-db-1751387336` - —Å—Ç–≤–æ—Ä–µ–Ω–æ!
- ‚úÖ **Database:** `django-app_db` - —Å—Ç–≤–æ—Ä–µ–Ω–æ
- ‚úÖ **Firewall Rules** - –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- ‚ùå **Key Vault:** –ø–æ–º–∏–ª–∫–∞ –∑ –Ω–∞–∑–≤–æ—é (–∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∞)

## –í–∞–∂–ª–∏–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±–∞–∑—É –¥–∞–Ω–∏—Ö:

**PostgreSQL Connection Details:**
- **Host:** `django-app-production-db-1751387336.postgres.database.azure.com`
- **Username:** `djangoadmin`
- **Password:** `eGwSA1oIVcwLGiKmAa1!`
- **Database:** `django-app_db`
- **Port:** `5432` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π)
- **SSL:** Required

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è Key Vault

–ü—Ä–æ–±–ª–µ–º–∞: –Ω–∞–∑–≤–∞ Key Vault –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∞ (35 —Å–∏–º–≤–æ–ª—ñ–≤). Azure –≤–∏–º–∞–≥–∞—î 3-24 —Å–∏–º–≤–æ–ª–∏.

### –®–≤–∏–¥–∫–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å Key Vault –∑ –∫–æ—Ä–æ—Ç–∫–æ—é –Ω–∞–∑–≤–æ—é
KV_NAME="djapp-kv-$(date +%s | tail -c 6)"
echo "Key Vault name: $KV_NAME"

az keyvault create \
    --name "$KV_NAME" \
    --resource-group "django-app-production-rg" \
    --location "westeurope" \
    --enabled-for-template-deployment true \
    --tags Project="django-app" Environment="production" CreatedBy="AzureCLI"
```

### –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —â–µ –∫–æ—Ä–æ—Ç—à—É –Ω–∞–∑–≤—É:

```bash
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ—Ä–æ—Ç–∫–∞ –Ω–∞–∑–≤–∞
KV_NAME="djappkv$(date +%H%M%S)"
echo "Key Vault name: $KV_NAME (length: ${#KV_NAME})"

az keyvault create \
    --name "$KV_NAME" \
    --resource-group "django-app-production-rg" \
    --location "westeurope"
```

### –î–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É:## –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

–û—Å–∫—ñ–ª—å–∫–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ, –¥–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ App Service:

```bash
# –ó–º—ñ–Ω–Ω—ñ
RG_NAME="django-app-production-rg"
APP_SERVICE_PLAN="django-webapp-plan"
WEB_APP_NAME="django-webapp-$(date +%s | tail -c 6)"
LOCATION="westeurope"

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è App Service Plan
az appservice plan create \
    --name "$APP_SERVICE_PLAN" \
    --resource-group "$RG_NAME" \
    --location "$LOCATION" \
    --is-linux \
    --sku B1

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App
az webapp create \
    --resource-group "$RG_NAME" \
    --plan "$APP_SERVICE_PLAN" \
    --name "$WEB_APP_NAME" \
    --runtime "PYTHON:3.11"

echo "Web App URL: https://${WEB_APP_NAME}.azurewebsites.net"
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è Django:

```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
az webapp config appsettings set \
    --resource-group "$RG_NAME" \
    --name "$WEB_APP_NAME" \
    --settings \
        DATABASE_URL="postgresql://djangoadmin:eGwSA1oIVcwLGiKmAa1!@django-app-production-db-1751387336.postgres.database.azure.com:5432/django-app_db" \
        DJANGO_SETTINGS_MODULE="myproject.settings" \
        DEBUG="False" \
        ALLOWED_HOSTS="${WEB_APP_NAME}.azurewebsites.net" \
        AZURE_STORAGE_ACCOUNT_NAME="djapp1387336"
```

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å —Ä–µ—Å—É—Ä—Å—ñ–≤:

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤
az resource list \
    --resource-group "django-app-production-rg" \
    --output table
```

–•–æ—á–µ—Ç–µ, —â–æ–± —è –¥–æ–ø–æ–º—ñ–≥ –∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º Key Vault —Ç–∞ App Service, –∞–±–æ –≤–∏ —Å–∞–º—ñ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–µ?



```bash
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ ./script_azure.sh
[2025-07-01 17:03:50] –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Django –¥–æ–¥–∞—Ç–∫—É...
[2025-07-01 17:03:50] –ü—Ä–æ–µ–∫—Ç: django-app
[2025-07-01 17:03:50] –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: production
[2025-07-01 17:03:50] –†–µ–≥—ñ–æ–Ω: West Europe
[2025-07-01 17:03:50] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π...
[2025-07-01 17:03:51] ‚úÖ –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
[2025-07-01 17:03:51] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Resource Group: django-app-production-rg
{
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg",
  "location": "westeurope",
  "managedBy": null,
  "name": "django-app-production-rg",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Resources/resourceGroups"
}
[2025-07-01 17:03:53] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Storage Account: djapp1389430
{
  "accessTier": "Hot",
  "accountMigrationInProgress": null,
  "allowBlobPublicAccess": false,
  "allowCrossTenantReplication": false,
  "allowSharedKeyAccess": null,
  "allowedCopyScope": null,
  "azureFilesIdentityBasedAuthentication": null,
  "blobRestoreStatus": null,
  "creationTime": "2025-07-01T17:03:56.457466+00:00",
  "customDomain": null,
  "defaultToOAuthAuthentication": null,
  "dnsEndpointType": null,
  "enableExtendedGroups": null,
  "enableHttpsTrafficOnly": true,
  "enableNfsV3": null,
  "encryption": {
    "encryptionIdentity": null,
    "keySource": "Microsoft.Storage",
    "keyVaultProperties": null,
    "requireInfrastructureEncryption": null,
    "services": {
      "blob": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T17:03:56.613710+00:00"
      },
      "file": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2025-07-01T17:03:56.613710+00:00"
      },
      "queue": null,
      "table": null
    }
  },
  "extendedLocation": null,
  "failoverInProgress": null,
  "geoReplicationStats": null,
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.Storage/storageAccounts/djapp1389430",
  "identity": null,
  "immutableStorageWithVersioning": null,
  "isHnsEnabled": null,
  "isLocalUserEnabled": null,
  "isSftpEnabled": null,
  "isSkuConversionBlocked": null,
  "keyCreationTime": {
    "key1": "2025-07-01T17:03:56.613710+00:00",
    "key2": "2025-07-01T17:03:56.613710+00:00"
  },
  "keyPolicy": null,
  "kind": "StorageV2",
  "largeFileSharesState": null,
  "lastGeoFailoverTime": null,
  "location": "westeurope",
  "minimumTlsVersion": "TLS1_0",
  "name": "djapp1389430",
  "networkRuleSet": {
    "bypass": "AzureServices",
    "defaultAction": "Allow",
    "ipRules": [],
    "ipv6Rules": [],
    "resourceAccessRules": null,
    "virtualNetworkRules": []
  },
  "primaryEndpoints": {
    "blob": "https://djapp1389430.blob.core.windows.net/",
    "dfs": "https://djapp1389430.dfs.core.windows.net/",
    "file": "https://djapp1389430.file.core.windows.net/",
    "internetEndpoints": null,
    "microsoftEndpoints": null,
    "queue": "https://djapp1389430.queue.core.windows.net/",
    "table": "https://djapp1389430.table.core.windows.net/",
    "web": "https://djapp1389430.z6.web.core.windows.net/"
  },
  "primaryLocation": "westeurope",
  "privateEndpointConnections": [],
  "provisioningState": "Succeeded",
  "publicNetworkAccess": null,
  "resourceGroup": "django-app-production-rg",
  "routingPreference": null,
  "sasPolicy": null,
  "secondaryEndpoints": null,
  "secondaryLocation": null,
  "sku": {
    "name": "Standard_LRS",
    "tier": "Standard"
  },
  "statusOfPrimary": "available",
  "statusOfSecondary": null,
  "storageAccountSkuConversionStatus": null,
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.Storage/storageAccounts"
}
{
  "created": false
}
{
  "created": false
}
[2025-07-01 17:04:18] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è PostgreSQL —Å–µ—Ä–≤–µ—Ä–∞: django-app-production-db-1751389430
The default value of '--version' will be changed to '17' from '16' in next breaking change release(2.73.0) scheduled for May 2025.
The default value of '--create-default-database' will be changed to 'Disabled' from 'Enabled' in next breaking change release(2.73.0) scheduled for May 2025.
Update default value of "--sku-name" in next breaking change release(2.73.0) scheduled for May 2025. The default value will be changed from "Standard_D2s_v3" to a supported sku based on regional capabilities.
Checking the existence of the resource group 'django-app-production-rg'...
Resource group 'django-app-production-rg' exists ? : True 
The default value for the PostgreSQL server major version will be updating to 17 in the near future.
Creating PostgreSQL Server 'django-app-production-db-1751389430' in group 'django-app-production-rg'...
Your server 'django-app-production-db-1751389430' is using sku 'Standard_D2ds_v4' (Paid Tier). Please refer to https://aka.ms/postgres-pricing for pricing details
Configuring server firewall rule, 'azure-access', to accept connections from all Azure resources...
Creating PostgreSQL database 'flexibleserverdb'...
Make a note of your password. If you forget, you would have to reset your password with "az postgres flexible-server update -n django-app-production-db-1751389430 -g django-app-production-rg -p <new-password>".
Try using 'az postgres flexible-server connect' command to test out connection.
{
  "connectionString": "postgresql://djangoadmin:sKtnRoqzUH8DB2QTAa1!@django-app-production-db-1751389430.postgres.database.azure.com/flexibleserverdb?sslmode=require",
  "databaseName": "flexibleserverdb",
  "firewallName": "AllowAllAzureServicesAndResourcesWithinAzureIps_2025-7-1_17-9-25",
  "host": "django-app-production-db-1751389430.postgres.database.azure.com",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751389430",
  "location": "West Europe",
  "password": "sKtnRoqzUH8DB2QTAa1!",
  "resourceGroup": "django-app-production-rg",
  "skuname": "Standard_D2ds_v4",
  "username": "djangoadmin",
  "version": "14"
}
[2025-07-01 17:10:38] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö: django-app_db
Creating database with utf8 charset and en_US.utf8 collation
{
  "charset": "UTF8",
  "collation": "en_US.utf8",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751389430/databases/django-app_db",
  "name": "django-app_db",
  "resourceGroup": "django-app-production-rg",
  "systemData": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers/databases"
}
[2025-07-01 17:10:51] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è firewall –ø—Ä–∞–≤–∏–ª –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
{
  "endIpAddress": "0.0.0.0",
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.DBforPostgreSQL/flexibleServers/django-app-production-db-1751389430/firewallRules/AllowAzureServices",
  "name": "AllowAzureServices",
  "resourceGroup": "django-app-production-rg",
  "startIpAddress": "0.0.0.0",
  "systemData": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers/firewallRules"
}
[2025-07-01 17:11:53] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Key Vault: djapp-kv-89430
{
  "id": "/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourceGroups/django-app-production-rg/providers/Microsoft.KeyVault/vaults/djapp-kv-89430",
  "location": "westeurope",
  "name": "djapp-kv-89430",
  "properties": {
    "accessPolicies": [],
    "createMode": null,
    "enablePurgeProtection": null,
    "enableRbacAuthorization": true,
    "enableSoftDelete": true,
    "enabledForDeployment": false,
    "enabledForDiskEncryption": null,
    "enabledForTemplateDeployment": null,
    "hsmPoolResourceId": null,
    "networkAcls": null,
    "privateEndpointConnections": null,
    "provisioningState": "Succeeded",
    "publicNetworkAccess": "Enabled",
    "sku": {
      "family": "A",
      "name": "standard"
    },
    "softDeleteRetentionInDays": 90,
    "tenantId": "3a7a2d8e-5083-4ef2-809c-3a88f18e0ef8",
    "vaultUri": "https://djapp-kv-89430.vault.azure.net/"
  },
  "resourceGroup": "django-app-production-rg",
  "systemData": {
    "createdAt": "2025-07-01T17:11:55.146000+00:00",
    "createdBy": "vitalii_shevchuk3@epam.com",
    "createdByType": "User",
    "lastModifiedAt": "2025-07-01T17:11:55.146000+00:00",
    "lastModifiedBy": "vitalii_shevchuk3@epam.com",
    "lastModifiedByType": "User"
  },
  "tags": {
    "CreatedBy": "AzureCLI",
    "Environment": "production",
    "Project": "django-app"
  },
  "type": "Microsoft.KeyVault/vaults"
}
[2025-07-01 17:12:28] –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –¥–æ Key Vault
(Forbidden) Caller is not authorized to perform action on resource.
If role assignments, deny assignments or role definitions were changed recently, please observe propagation time.
Caller: appid=04b07795-8ddb-461a-bbee-02f9e1bf7b46;oid=2b519bbb-fa41-470c-9279-95f55f66c3b9;iss=https://sts.windows.net/3a7a2d8e-5083-4ef2-809c-3a88f18e0ef8/
Action: 'Microsoft.KeyVault/vaults/secrets/setSecret/action'
Resource: '/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourcegroups/django-app-production-rg/providers/microsoft.keyvault/vaults/djapp-kv-89430/secrets/django-secret-key'
Assignment: (not found)
DenyAssignmentId: null
DecisionReason: null 
Vault: djapp-kv-89430;location=westeurope

Code: Forbidden
Message: Caller is not authorized to perform action on resource.
If role assignments, deny assignments or role definitions were changed recently, please observe propagation time.
Caller: appid=04b07795-8ddb-461a-bbee-02f9e1bf7b46;oid=2b519bbb-fa41-470c-9279-95f55f66c3b9;iss=https://sts.windows.net/3a7a2d8e-5083-4ef2-809c-3a88f18e0ef8/
Action: 'Microsoft.KeyVault/vaults/secrets/setSecret/action'
Resource: '/subscriptions/f7dc8823-4f06-4346-9de0-badbe6273a54/resourcegroups/django-app-production-rg/providers/microsoft.keyvault/vaults/djapp-kv-89430/secrets/django-secret-key'
Assignment: (not found)
DenyAssignmentId: null
DecisionReason: null 
Vault: djapp-kv-89430;location=westeurope

Inner error: {
    "code": "ForbiddenByRbac"
}
@VitaliiShevchuk2023 ‚ûú /workspaces/portfolio-django-azure (main) $ 
```




